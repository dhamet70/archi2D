(function(e){function t(t){for(var n,s,o=t[0],l=t[1],c=t[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);p&&p(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==i[l]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={app:0},a=[];function s(e){return o.p+"js/"+({"polyfills-core-js":"polyfills-core-js","polyfills-dom":"polyfills-dom"}[e]||e)+"."+{"chunk-2d213e8b":"17434aec","polyfills-core-js":"051df941","polyfills-dom":"d87f7cf3"}[e]+".js"}function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],r=i[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=n);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=s(e);var c=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(d);var r=i[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",c.name="ChunkLoadError",c.type=n,c.request=a,r[1](c)}i[e]=void 0}};var d=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/archi2D/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("64a9")},"16f9":function(e,t,r){"use strict";r("8c03")},"56d7":function(e,t,r){"use strict";r.r(t);r("14c6"),r("08c1"),r("4842"),r("d9fc");var n=r("2b0e"),i=r("dc42"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Archi2D")},s=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"App"},[r("div",{on:{click:e.changeDesignMode}},[r("a",{attrs:{href:"#"}},[e._v(e._s(e.designMode?"Run":"Design"))])]),r("div",{on:{click:e.changeFullscreen}},[r("a",{attrs:{href:"#"}},[e._v("Fullscreen")])]),r("div",{attrs:{id:"Archi2D"}},[r("ion-phaser",{domProps:{game:e.game}})],1),r("div",{on:{click:e.showLayers}},[r("a",{attrs:{href:"#"}},[e._v("Display Layers")])])])},l=[],c=r("d4ef"),d=r.n(c),p=!0,h={projet:"Projet_1",items:[{id:"background",type:"image",src:"user_download/COUPE1-1024x764.png"},{id:"man_idle",type:"spritesheet",src:"fixed/man_idle_68x150.png",frameWidth:68,frameHeight:150},{id:"man04",type:"spritesheet",src:"animated/man04_78x150.png",frameWidth:78,frameHeight:150}]},u={projet:"Projet_1",items:[{id:"man_idle",x:255,y:291,tint:0,alpha:.7,flipX:!0,scale:.31},{id:"man_idle",x:230,y:600,tint:0,alpha:1,flipX:!1,scale:.8},{id:"man04",x:470,y:587,tint:0,alpha:.5,flipX:!1,scale:.37},{id:"man04",x:150,y:587,tint:0,alpha:1,flipX:!0,scale:.39},{id:"man04",x:706,y:87,tint:0,alpha:1,flipX:!1,scale:.37}],layers:[{name:"Layer_1",invertAlpha:!1,color:"0x77B5FE",zones:[{id:"Bloc Electrique",coords:[210,0,45,350]}]},{name:"Layer_2",invertAlpha:!0,color:"0xFFA500",zones:[{id:"Terrasse",coords:[190,100,508,30]},{id:"Garage",coords:[502,30,104,80]},{id:"Sous-Sol",coords:[387,550,103,65]}]}]},f=1024,m=764,g=[],y=[],v=[],b=[],w=[],k=[],_=[],x=!1,j=!0,M=null,O=!1,A={name:"Archi2D",data:function(){return{designMode:!0,game:{width:f,height:m,type:d.a.WEBGL,antialias:!0,backgroundColor:16119260,scale:{parent:"Archi2D",mode:d.a.Scale.FIT,width:f,height:m},autoRound:!1,scene:{preload:function(){this.load.crossOrigin="anonymous",this.load.setPath("assets/");for(var e=0;e<h.items.length;e++){var t=h.items[e];switch(t.type){case"image":this.load.image(t.id,t.src);break;case"spritesheet":this.load.spritesheet(t.id,t.src,{frameWidth:t.frameWidth,frameHeight:t.frameHeight});break}}},create:function(){this.background=this.add.image(512,384,"background");for(var e=0;e<h.items.length;e++){var t=h.items[e];"spritesheet"===t.type&&this.anims.create({key:t.id+"_Animation",frames:this.anims.generateFrameNumbers(t.id),frameRate:10,repeat:-1})}for(var r=0;r<u.items.length;r++){var n=u.items[r],i=this.add.sprite(n.x,n.y,n.id+"_"+r).setFlipX(n.flipX).setScale(n.scale).setTintFill(n.tint).setAlpha(n.alpha).play(n.id+"_Animation").stop();i.setInteractive({draggable:!0}).on("pointerdown",(function(){this.setTintFill(170).setAlpha(.2)})).on("pointerup",(function(){})),g.push(i);var a=null;a=this.add.graphics({fillStyle:{color:7845374},lineStyle:{width:2,color:7845374,alpha:1}});var s=g[r].getBounds();a.strokeRectShape(s),a.setVisible(!0),y.push(a);var o=new d.a.Geom.Rectangle(s.x,s.y,s.width,s.height),l=[];d.a.Geom.Rectangle.Decompose(o,l);for(var c=0;c<l.length;c++)a.fillCircle(l[c].x,l[c].y,3);a.setVisible(!0),y.push(a),a=this.add.graphics({fillStyle:{color:7845374},lineStyle:{width:2,color:7845374,alpha:1}})}v.push(this.tweens.add({targets:g[2],x:150,duration:16e3,flipX:!0,yoyo:!0,repeat:-1}).pause()),v.push(this.tweens.add({targets:g[3],x:590,duration:16e3,flipX:!0,yoyo:!0,repeat:-1}).pause()),v.push(this.tweens.add({targets:g[4],x:370,duration:16e3,flipX:!0,yoyo:!0,repeat:-1}).pause());for(var p=0;p<u.layers.length;p++){var f=p;_.push(this.add.layer()),0===p&&_[f].add([g[0]]),1===p&&_[f].add([g[2],g[3],g[4]]),b.push(this.add.graphics()),w.push(this.make.graphics().fillStyle(0));for(var m=0;m<u.layers[p].zones.length;m++){var x=u.layers[p].zones[m].coords;M=new d.a.Geom.Polygon([x[0],x[1],x[0]+x[2],x[1],x[0]+x[2],x[1]+x[3],x[0],x[1]+x[3]]),_[f].mask=new d.a.Display.Masks.BitmapMask(this,w[f].fillPoints(M.points,!0)),_[f].mask.invertAlpha=u.layers[p].invertAlpha,k[f]=_[f].mask,_[f].clearMask(),b[f].fillStyle(u.layers[p].color,.4).lineStyle(1,u.layers[p].color).fillPoints(M.points,!0).strokePoints(M.points,!0).setVisible(!1)}}this.infos=this.add.text(10,10,"",{fontFamily:"Arial",fontSize:20,color:"#bb0000"})},update:function(){if(p){var e=(0|this.game.loop.actualFps)+"fps \n";e+="designMode: "+j+"\n",e+="displayLayers: "+x+"\n",this.infos.setText(e)}if(O){j=!1;for(var t=0;t<u.layers.length;t++)j?_[t].clearMask():_[t].setMask(k[t]);for(var r=0;r<u.items.length;r++){var n=u.items[r];j?g[r].setFlipX(n.flipX).setFrame(0).stop():g[r].play(n.id+"_Animation")}for(var i=0;i<y.length;i++)j?y[i].setVisible(!0):y[i].setVisible(!1);for(var a=0;a<v.length;a++)j?v[a].stop(0):v[a].restart();O=!1,this.scale.startFullscreen()}},changeDesignMode:function(){for(var e=0;e<u.layers.length;e++)j?_[e].clearMask():_[e].setMask(k[e]);for(var t=0;t<u.items.length;t++){var r=u.items[t];j?g[t].setFlipX(r.flipX).setFrame(0).stop():g[t].play(r.id+"_Animation")}for(var n=0;n<y.length;n++)j?y[n].setVisible(!0):y[n].setVisible(!1);for(var i=0;i<v.length;i++)j?v[i].stop(0):v[i].restart()},showLayers:function(){for(var e=0;e<u.layers.length;e++)b[e].setVisible(x)}}}}},methods:{changeDesignMode:function(){this.designMode=!this.designMode,j=this.designMode,this.game.scene.changeDesignMode()},showLayers:function(){x=!x,this.game.scene.showLayers()},changeFullscreen:function(){O=!0}}},F=A,P=(r("16f9"),r("2877")),S=Object(P["a"])(F,o,l,!1,null,"a5792150",null),D=S.exports,X={name:"app",components:{Archi2D:D}},E=X,L=(r("034f"),Object(P["a"])(E,a,s,!1,null,null,null)),T=L.exports;n["a"].config.productionTip=!1,n["a"].config.ignoredElements=[/ion-\w*/],Object(i["a"])(window),new n["a"]({render:function(e){return e(T)}}).$mount("#app")},"64a9":function(e,t,r){},"64d5":function(e,t,r){var n={"./ion-phaser.entry.js":["af4d","chunk-2d213e8b"]};function i(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return r.e(t[1]).then((function(){return r(i)}))}i.keys=function(){return Object.keys(n)},i.id="64d5",e.exports=i},"8c03":function(e,t,r){}});
//# sourceMappingURL=app.e5fa722a.js.map