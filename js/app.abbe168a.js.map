{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?60b9","webpack:///./src/App.vue","webpack:///./src/components/Archi2D.vue","webpack:///./src/components/utils.js","webpack:///src/components/Archi2D.vue","webpack:///./src/components/Archi2D.vue?7969","webpack:///./src/components/Archi2D.vue?de52","webpack:///src/App.vue","webpack:///./src/App.vue?a37b","webpack:///./src/App.vue?180a","webpack:///./src/main.js","webpack:///./node_modules/@ion-phaser/core/dist/esm lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","webpack:///./src/components/Archi2D.vue?d822"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","staticRenderFns","staticClass","staticStyle","attrs","domProps","previewItem","on","$event","showLayers","slot","_v","model","displayLayers","callback","$$v","expression","changeDesignMode","setFlipX","flipX","colors","changeColor","opacityMin","opacityMax","setOpacity","opacityError","opacity","directives","rawName","composing","_s","opacityErrorMsg","_l","pngItems","pngFile","index","toolbox_dragStart","getPngFile","toolbox_dragEnd","scopedSlots","_u","fn","proxy","ref","refInFor","showToolTipPhaser","hideToolTipPhaser","scale_Sprite","initRecord","changeFullscreen","DebugMode","debug","PhaserDropped","moveOnCanvas","leaveCanvas","game","CreateUUID","replace","Math","random","v","toString","drawDashedPolygon","g","polygons","x","y","rotation","dash","gap","offsetPercentage","p1","p2","beginPath","dashLeft","gapLeft","progressOffset","rotatedPolygons","cosAngle","cos","sinAngle","sin","dx","dy","len","sqrt","normal","progressOnLine","moveTo","lineTo","closePath","strokePath","Arrow","x1","y1","x2","y2","A_start","O_start","H_start","pow","change_arrow_radians","atan2","change_x_main","abs","change_y_main","change_angle_radians","change_x_0_arrowhead","change_y_0_arrowhead","change_x_1_arrowhead","change_y_1_arrowhead","stroke","dashedLine","dashArray","dashLength","dashCount","slope","distRemaining","dashIndex","draw","xStep","MouseX","MouseY","querySelector","onmousemove","pointer","ERROR_TYPE","VALUE","INTERVAL","MIN","MAX","ORDER","JSON_properties","project","mp4_duration","resources","GUID","id","frameWidth","frameHeight","items","tint","alpha","scale","tween","duration","yoyo","repeat","layers","invertAlpha","color","zones","coords","elapsedTime","sprites","spritesSelected","clone_spritesSelected","spriteAnims","animations","graphics","graphicsMask","masks","isDragFromToolBox","getVueInstance","dragArrows","spriteDragArrows","isPreviewPhaserMedia","fullscreen","components","VueSlider","Compact","PrettyCheck","NumberInputSpinner","Drag","Drop","isDnD_FromToolBox","overCanvas","phaserDropped","designMode","sceneMouseDown","spriteMouseDown","spriteInSelection","clone_selectionRect","spriteDrag","isDragHandleArrow","Phaser","CANVAS","audio","noAudio","clearBeforeRender","transparent","backgroundColor","roundPixels","autoRound","preserveDrawingBuffer","desynchronized","antialias","fps","width","height","disableContextMenu","scene","update","_this","load","crossOrigin","file","substring","lastIndexOf","tmp","w","Number","indexOf","h","anims","remove","allSprites","children","list","filter","GameObjects","Sprite","forEach","destroy","frames","generateFrameNumbers","frameRate","add","sprite","setOrigin","play","spritesheet","start","WEBGL","resolution","devicePixelRatio","fullscreenTarget","Scale","FIT","autoCenter","CENTER_BOTH","parent","preload","iterator","resource","image","_this2","timedEvent","time","addEvent","delay","getElapsedSeconds","callbackScope","loop","background","dragArrowfixedResources","selection","rectangle","anim","_loop","_i","setScale","setAlpha","setTintFill","setInteractive","draggable","parseInt","setDataEnabled","set","animation","tweens","targets","props","getStart","getEnd","indexLayer","layer","make","fillStyle","polygon","Geom","Polygon","mask","Display","Masks","BitmapMask","fillPoints","points","clearMask","lineStyle","strokePoints","setVisible","pointerdownoutside","isDrag","pointerupoutside","handlePointerDown","selectionRect","Rectangle","SelectedBox","handlePointerMove","isDown","prevPosition","handlePointerUp","selected","rect","getBounds","Overlaps","propertiesUpdate","input","infos","text","fontFamily","fontSize","canvas","clear","restart","seek","pause","pngLazyLoad","png","_this3","Utils","once","paused","setPosition","minutes","floor","seconds","isTweening","getTweensOf","end","actualFps","JSON","stringify","setText","setMask","setFrame","startFullscreen","timer","Date","now","bounds","Decompose","includes","strokeRectShape","fillRect","strokeRect","poly","removeFromDisplayList","removeInteractive","point","hex","test","created","mounted","methods","$refs","getBoundingClientRect","left","top","elem","getElementById","style","visibility","position","f","item","pop","stop","resume","DesignMode","msg","click_div","Recorder","videoStream","captureStream","mediaRecorder","MediaRecorder","videoURL","chunks","ondataavailable","onstop","blob","Blob","URL","createObjectURL","myReader","FileReader","readAsDataURL","addEventListener","srcElement","hidden","link","href","download","click","getUrl","rec","component","Archi2D","Vue","use","VueTippy","TippyComponent","config","productionTip","ignoredElements","defineIonPhaser","bus","App","$mount","map","webpackAsyncContext","req","then","code","ids","keys"],"mappings":"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","file":"js/app.abbe168a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"polyfills-core-js\":\"polyfills-core-js\",\"polyfills-dom\":\"polyfills-dom\"}[chunkId]||chunkId) + \".\" + {\"chunk-2d213e8b\":\"dff9344f\",\"polyfills-core-js\":\"7bd4d66d\",\"polyfills-dom\":\"e5851423\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/archi2D/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=cce7b22e&prod&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Archi2D')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"App\"},[_c('div',{staticStyle:{\"padding\":\"5px\",\"z-index\":\"9999\",\"box-shadow\":\"inset 0 0 0 2px #ccc\",\"border-radius\":\"4px\",\"background-color\":\"#fff\",\"position\":\"absolute\",\"visibility\":\"hidden\"},attrs:{\"id\":\"TooltipPhaser\"}},[_c('ion-phaser',{domProps:{\"game\":_vm.previewItem}})],1),_c('div',{attrs:{\"id\":\"toolbox\"}},[_c('div',{staticClass:\"margin-bottom\"}),_c('div',{staticClass:\"neumorphism\"},[_c('div',{staticStyle:{\"float\":\"left\"},on:{\"click\":function($event){return _vm.showLayers()}}},[_c('label',{attrs:{\"slot\":\"extra-label\"},slot:\"extra-label\"},[_vm._v(\"\\n\\t\\t\\t\\t\\tShow Layers\\n\\t\\t\\t\\t\")]),_c('pretty-checkbox-vue',{staticClass:\"p-icon p-plain\",attrs:{\"toggle\":\"\",\"color\":\"success-o\"},model:{value:(_vm.displayLayers),callback:function ($$v) {_vm.displayLayers=$$v},expression:\"displayLayers\"}},[_c('i',{staticClass:\"icon mdi mdi-eye\",staticStyle:{\"font-size\":\"15px\",\"top\":\"-3px\",\"left\":\"5px\"},attrs:{\"slot\":\"extra\"},slot:\"extra\"}),_c('i',{staticClass:\"icon mdi mdi-eye-off\",staticStyle:{\"font-size\":\"15px\",\"top\":\"-3px\",\"left\":\"5px\"},attrs:{\"slot\":\"off-extra\"},slot:\"off-extra\"})])],1),_c('div',[_c('pretty-checkbox-vue',{staticClass:\"p-icon p-plain\",staticStyle:{\"float\":\"right\"},attrs:{\"off-color\":\"warning-o\",\"toggle\":\"\"},on:{\"change\":function($event){return _vm.changeDesignMode()}}},[_vm._v(\"\\n\\t\\t\\t\\t\\tPause\\n\\t\\t\\t\\t\\t\"),_c('i',{staticClass:\"icon mdi mdi-pause\",staticStyle:{\"left\":\"-10px\",\"font-size\":\"25px\",\"top\":\"-9px\"},attrs:{\"slot\":\"extra\"},slot:\"extra\"}),_c('label',{attrs:{\"slot\":\"off-label\"},slot:\"off-label\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\tPlay\\n\\t\\t\\t\\t\\t\")]),_c('i',{staticClass:\"icon mdi mdi-play\",staticStyle:{\"left\":\"-10px\",\"font-size\":\"25px\",\"top\":\"-9px\"},attrs:{\"slot\":\"off-extra\"},slot:\"off-extra\"})])],1),_c('br')]),_c('br'),_c('div',{staticClass:\"neumorphism\"},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('span',{staticStyle:{\"margin-right\":\"15px\"}},[_vm._v(\"Name :\")]),_c('input',{staticStyle:{\"width\":\"119px\",\"margin-right\":\"15px\"}}),_c('pretty-checkbox-vue',{staticClass:\"p-icon p-curve p-pulse p-thick\",staticStyle:{\"top\":\"-1px\"},attrs:{\"toggle\":\"\"},on:{\"change\":function($event){return _vm.setFlipX()}},model:{value:(_vm.flipX),callback:function ($$v) {_vm.flipX=$$v},expression:\"flipX\"}},[_c('i',{staticClass:\"icon mdi mdi-checkbox-marked\",staticStyle:{\"font-size\":\"16px\",\"top\":\"-3px\",\"left\":\"-3px\"},attrs:{\"slot\":\"extra\"},slot:\"extra\"}),_vm._v(\"\\n\\t\\t\\t\\t\\tFlipX\\n\\t\\t\\t\\t\\t\"),_c('i',{staticClass:\"icon mdi mdi-checkbox-unmarked\",staticStyle:{\"font-size\":\"16px\",\"top\":\"-3px\",\"left\":\"-3px\"},attrs:{\"slot\":\"off-extra\"},slot:\"off-extra\"}),_c('label',{attrs:{\"slot\":\"off-label\"},slot:\"off-label\"},[_vm._v(\"\\n\\t\\t\\t\\t\\tFlipX\\n\\t\\t\\t\\t\\t\")])])],1),_c('br'),_c('div',[_c('compact-picker',{attrs:{\"value\":_vm.colors,\"preset-colors\":[ '#000', '#AAA', '#BBB', '#CCC', '#DDD', '#EEE', '#FFF' ]},on:{\"input\":_vm.changeColor}})],1),_c('br'),_c('div',{staticClass:\"vue-slider\"},[_c('div',{staticStyle:{\"margin-right\":\"5px\",\"margin-top\":\"1px\"}},[_vm._v(\"Opacity :\")]),_c('vue-slider',{attrs:{\"tooltip\":'none',\"dotSize\":8,\"height\":2,\"min\":_vm.opacityMin,\"max\":_vm.opacityMax,\"duration\":0.5},on:{\"change\":function($event){return _vm.setOpacity()},\"error\":function($event){return _vm.opacityError()}},model:{value:(_vm.opacity),callback:function ($$v) {_vm.opacity=$$v},expression:\"opacity\"}}),_vm._v(\"\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.opacity),expression:\"opacity\"}],staticStyle:{\"width\":\"25px\"},domProps:{\"value\":(_vm.opacity)},on:{\"input\":function($event){if($event.target.composing)return;_vm.opacity=$event.target.value}}}),_vm._v(\"%\\n\\t\\t\\t\\t\"),_c('br')],1),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.opacityErrorMsg))])]),_c('br'),_c('br'),_c('div',{staticClass:\"wrapperGridItems\"},_vm._l((_vm.pngItems),function(pngFile,index){return _c('drag',{key:pngFile,staticStyle:{\"width\":\"60px\",\"height\":\"60px\"},attrs:{\"drag-image-opacity\":0.5,\"go-back\":true,\"data\":pngFile,\"type\":\"string\"},on:{\"dragstart\":function($event){_vm.toolbox_dragStart(_vm.getPngFile(pngFile))},\"dragend\":function($event){_vm.toolbox_dragEnd(_vm.getPngFile(pngFile))}},scopedSlots:_vm._u([{key:\"drag-image\",fn:function(){return [_c('div',{staticStyle:{\"background\":\"white\",\"border\":\"1px solid black\",\"transform\":\"translate(-50%, -50%)\"}},[_c('img',{staticStyle:{\"width\":\"60px\",\"height\":\"60px\"},attrs:{\"src\":_vm.getPngFile(pngFile)}})])]},proxy:true}],null,true)},[_c('img',{ref:\"pngFile\",refInFor:true,staticStyle:{\"background\":\"white\",\"border\":\"1px solid black\",\"width\":\"60px\",\"height\":\"60px\",\"padding\":\"2px\"},attrs:{\"id\":pngFile,\"src\":_vm.getPngFile(pngFile)},on:{\"mouseenter\":function($event){return _vm.showToolTipPhaser(index)},\"mouseleave\":function($event){return _vm.hideToolTipPhaser()}}})])}),1),_c('br'),_c('NumberInputSpinner',{attrs:{\"value\":\"0\",\"min\":-100,\"max\":900,\"step\":10,\"integerOnly\":false},model:{value:(_vm.scale_Sprite),callback:function ($$v) {_vm.scale_Sprite=$$v},expression:\"scale_Sprite\"}}),_c('br'),_c('br'),_c('br'),_c('br'),_c('div',{on:{\"click\":function($event){return _vm.initRecord()}}},[_vm._v(\"Record(10s)\")]),_c('br'),_c('br'),_c('br'),_c('br'),_c('div',{on:{\"click\":function($event){return _vm.changeFullscreen()}}},[_c('pretty-checkbox-vue',{staticClass:\"p-icon p-plain\",attrs:{\"toggle\":\"\"}},[_c('i',{staticClass:\"icon mdi mdi-fullscreen\",staticStyle:{\"color\":\"black\",\"font-size\":\"20px\",\"top\":\"-7px\",\"left\":\"2px\",\"padding-right\":\"13px\"},attrs:{\"slot\":\"extra\"},slot:\"extra\"}),_vm._v(\"\\n\\t\\t\\t\\tFullscreen\\n\\t\\t\\t\\t\"),_c('i',{staticClass:\"icon mdi mdi-fullscreen\",staticStyle:{\"color\":\"black\",\"font-size\":\"20px\",\"top\":\"-7px\",\"left\":\"2px\",\"padding-right\":\"13px\"},attrs:{\"slot\":\"off-extra\"},slot:\"off-extra\"}),_c('label',{attrs:{\"slot\":\"off-label\"},slot:\"off-label\"},[_vm._v(\"\\n\\t\\t\\t\\tFullscreen\\n\\t\\t\\t\\t\")])])],1),_c('br'),_c('pretty-checkbox-vue',{staticClass:\"p-icon p-curve p-pulse p-thick\",staticStyle:{\"top\":\"-1px\"},on:{\"click\":function($event){return _vm.DebugMode()}},model:{value:(_vm.debug),callback:function ($$v) {_vm.debug=$$v},expression:\"debug\"}},[_c('i',{staticClass:\"icon mdi mdi-checkbox-marked\",staticStyle:{\"font-size\":\"16px\",\"top\":\"-3px\",\"left\":\"-3px\"},attrs:{\"slot\":\"extra\"},slot:\"extra\"}),_vm._v(\"\\n\\t\\t\\tDebug\\n\\t\\t\\t\"),_c('i',{staticClass:\"icon mdi mdi-checkbox-unmarked\",staticStyle:{\"font-size\":\"16px\",\"top\":\"-3px\",\"left\":\"-3px\"},attrs:{\"slot\":\"off-extra\"},slot:\"off-extra\"}),_c('label',{attrs:{\"slot\":\"off-label\"},slot:\"off-label\"},[_vm._v(\"\\n\\t\\t\\tDebug\\n\\t\\t\\t\")])]),_c('br'),_c('br'),_c('br'),_c('br'),_c('br'),_c('br'),_c('br'),_c('br')],1),_c('div',{attrs:{\"id\":\"wrapper-phaser\"}},[_c('drop',{attrs:{\"accepts-type\":\"string\"},on:{\"drop\":function($event){return _vm.PhaserDropped()},\"mousemove\":function($event){return _vm.moveOnCanvas()},\"mouseleave\":function($event){return _vm.leaveCanvas()}},scopedSlots:_vm._u([{key:\"drag-image\",fn:function(){return undefined},proxy:true}])},[_c('div',{attrs:{\"id\":\"center-phaser\"}},[_c('ion-phaser',{domProps:{\"game\":_vm.game}})],1)])],1),_c('video',{attrs:{\"autoplay\":\"\",\"hidden\":\"true\",\"id\":\"video\",\"width\":\"320\",\"height\":\"240\",\"controls\":\"\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function CreateUUID() {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n        return v.toString(16);\r\n    });\r\n}\r\n\r\nexport function drawDashedPolygon(g,polygons, x, y, rotation, dash, gap, offsetPercentage){\t\t\r\n    g.beginPath()\r\n\r\n    let i\r\n    let p1\r\n    let p2\r\n    let dashLeft = 0\r\n    let gapLeft = 0\r\n    if(offsetPercentage>0){\r\n        let progressOffset = (dash+gap)*offsetPercentage\r\n        if(progressOffset < dash) dashLeft = dash-progressOffset\r\n        else gapLeft = gap-(progressOffset-dash)\r\n    }\r\n    let rotatedPolygons = []\r\n    for(i = 0; i<polygons.length; i++){\r\n        let p = {x:polygons[i].x, y:polygons[i].y}\r\n        let cosAngle = Math.cos(rotation)\r\n        let sinAngle = Math.sin(rotation)\r\n        let dx = p.x\r\n        let dy = p.y\r\n        p.x = (dx*cosAngle-dy*sinAngle)\r\n        p.y = (dx*sinAngle+dy*cosAngle)\r\n        rotatedPolygons.push(p)\r\n    }\r\n    for(i = 0; i<rotatedPolygons.length; i++){\r\n        p1 = rotatedPolygons[i]\r\n        if(i == rotatedPolygons.length-1) p2 = rotatedPolygons[0]\r\n        else p2 = rotatedPolygons[i+1]\r\n        let dx = p2.x-p1.x\r\n        let dy = p2.y-p1.y\r\n        let len = Math.sqrt(dx*dx+dy*dy)\r\n        let normal = {x:dx/len, y:dy/len}\r\n        let progressOnLine = 0\r\n        g.moveTo(x+p1.x+gapLeft*normal.x, y+p1.y+gapLeft*normal.y)\r\n        while(progressOnLine<=len){\r\n            progressOnLine+=gapLeft\r\n            if(dashLeft > 0) progressOnLine += dashLeft\r\n            else progressOnLine+= dash\r\n            if(progressOnLine>len){\r\n                dashLeft = progressOnLine-len\r\n                progressOnLine = len\r\n            }else{\r\n                dashLeft = 0\r\n            }\r\n            g.lineTo(x+p1.x+progressOnLine*normal.x, y+p1.y+progressOnLine*normal.y)\r\n            progressOnLine+= gap\r\n            if(progressOnLine>len && dashLeft == 0){\r\n                gapLeft = progressOnLine-len\r\n            }else{\r\n                gapLeft = 0\r\n                g.moveTo(x+p1.x+progressOnLine*normal.x, y+p1.y+progressOnLine*normal.y)\r\n            }\r\n        }\r\n    }\r\n    g.closePath()\r\n    g.strokePath()\t\r\n}\r\n\r\nexport function Arrow(g, x1, y1, x2, y2) {\r\n    //SOHCAHTOA = SOH ( Sin(Radians) = Opposite / Hypotenuse ) - CAH ( Cos(Radians) = Adjacent / Hypotenuse ) - TOA ( Tan(Radians) = Opposite / Adjacent\r\n\r\n    //Set-Points for Arrow Head\r\n    const A_start = 16;\r\n    const O_start = 3;\r\n    const H_start = Math.sqrt(Math.pow(A_start, 2) + Math.pow(O_start, 2));\r\n    const change_arrow_radians = Math.atan2(O_start, A_start);\r\n\r\n    //Calculate the change of the arrow head (i.e. horizontal, vertical or diagonal)\r\n    const change_x_main = Math.abs(x1 - x2); //Adjacent, Calculate difference as an absolute value\r\n    const change_y_main = Math.abs(y1 - y2); //Opposite, Calculate difference as an absolute value\r\n\r\n    const change_angle_radians = Math.atan2(change_y_main, change_x_main);\r\n    //const change_angle_degrees = change_angle_radians * ( 180 / Math.PI); //Not Used, but could be used as below to confirm angle of arrow head\r\n    //alert(\"Angle of Arrow: \" + change_angle_degrees); //remove comment\r\n\r\n    const change_x_0_arrowhead = Math.cos(change_angle_radians + change_arrow_radians) * H_start;\r\n    const change_y_0_arrowhead = Math.sin(change_angle_radians + change_arrow_radians) * H_start;\r\n    const change_x_1_arrowhead = Math.cos(change_angle_radians - change_arrow_radians) * H_start;\r\n    const change_y_1_arrowhead = Math.sin(change_angle_radians - change_arrow_radians) * H_start;\r\n\r\n    //draw arrow\r\n    g.beginPath();\r\n    //g.strokeStyle = Hex_Color;\r\n\r\n\r\n    if (((x1 < x2) && (y1 > y2)) || ((x1 < x2) && (y1 == y2)) || ((x1 == x2) && (y1 > y2))) {\r\n        //g.moveTo(x1, y1);\r\n        //g.lineTo(x2, y2);\r\n\r\n        g.moveTo(x2 - change_x_0_arrowhead, y2 + change_y_0_arrowhead);\r\n        g.lineTo(x2, y2);\r\n        g.lineTo(x2 - change_x_1_arrowhead, y2 + change_y_1_arrowhead);\r\n\r\n    } else if (((x1 > x2) && (y1 > y2)) || ((x1 > x2) && (y1 == y2))) {\r\n        //g.moveTo(x1, y1);\r\n        //g.lineTo(x2, y2);\r\n\r\n        g.moveTo(x2 + change_x_0_arrowhead, y2 + change_y_0_arrowhead);\r\n        g.lineTo(x2, y2);\r\n        g.lineTo(x2 + change_x_1_arrowhead, y2 + change_y_1_arrowhead);\r\n    } else if ((x1 < x2) && (y1 < y2)) {\r\n        //g.moveTo(x1, y1);\r\n        //g.lineTo(x2, y2);\r\n\r\n        g.moveTo(x2 - change_x_0_arrowhead, y2 - change_y_0_arrowhead);\r\n        g.lineTo(x2, y2);\r\n        g.lineTo(x2 - change_x_1_arrowhead, y2 - change_y_1_arrowhead);\r\n\r\n    } else if (((x1 > x2) && (y1 < y2)) || ((x1 == x2) && (y1 < y2))) {\r\n        //g.moveTo(x1, y1);\r\n        //g.lineTo(x2, y2);\r\n\r\n        g.moveTo(x2 + change_x_0_arrowhead, y2 - change_y_0_arrowhead);\r\n        g.lineTo(x2, y2);\r\n        g.lineTo(x2 + change_x_1_arrowhead, y2 - change_y_1_arrowhead);\r\n\r\n    }\r\n    //g.closePath()\r\n    g.stroke()\r\n}\r\n\r\nexport  function dashedLine(g,x,y,x2,y2,dashArray){\r\n    g.beginPath()\r\n    if (!dashArray) dashArray=[10,5];\r\n    if (dashLength==0) dashLength = 0.001; // Hack for Safari\r\n    let dashCount = dashArray.length;\r\n    g.moveTo(x, y);\r\n    let dx = (x2-x), dy = (y2-y);\r\n    let slope = dx ? dy/dx : 1e15;\r\n    let distRemaining = Math.sqrt( dx*dx + dy*dy );\r\n    let dashIndex=0, draw=true;\r\n    while (distRemaining>=0.1){\r\n        var dashLength = dashArray[dashIndex++%dashCount];\r\n        if (dashLength > distRemaining) dashLength = distRemaining;\r\n        let xStep = Math.sqrt( dashLength*dashLength / (1 + slope*slope) );\r\n        if (dx<0) xStep = -xStep;\r\n        x += xStep\r\n        y += slope*xStep;\r\n        \r\n        draw ? g.lineTo(x,y) : g.moveTo(x,y);\r\n        distRemaining -= dashLength;\r\n        draw = !draw;\r\n    }\r\n    g.stroke()\r\n}","<template>\n<div class=\"App\">\n\t<div id=\"TooltipPhaser\" style=\"padding:5px;z-index:9999;box-shadow: inset 0 0 0 2px #ccc; border-radius: 4px; background-color:#fff;position:absolute; visibility:hidden;\"><ion-phaser v-bind:game.prop=\"previewItem\"></ion-phaser></div>\n\n\t<div id=\"toolbox\">\n\t\t<!-- empty margin-bottom -->\n\t\t<div class=\"margin-bottom\"/>\n\n\t\t<div class=\"neumorphism\">\n\t\t\t<!-- Show Layers -->\n\t\t\t<div @click=\"showLayers()\" style=\"float: left;\">\n\t\t\t\t<label slot=\"extra-label\" >\n\t\t\t\t\tShow Layers\n\t\t\t\t</label>\t\n\t\t\t\t<pretty-checkbox-vue v-model=\"displayLayers\" class=\"p-icon p-plain\"  toggle color=\"success-o\" >\n\t\t\t\t\t<i slot=\"extra\" class=\"icon mdi mdi-eye\"         style=\"font-size:15px;top:-3px;left:5px;\" ></i>\t\t\t\n\t\t\t\t\t<i slot=\"off-extra\" class=\"icon mdi mdi-eye-off\" style=\"font-size:15px;top:-3px;left:5px;\" ></i>\t\t\t\n\t\t\t\t</pretty-checkbox-vue>\n\t\t\t</div>\n\t\t\t\n\t\t\t<!-- changeDesignMode -->\n\t\t\t<div>\n\t\t\t\t<pretty-checkbox-vue style=\"float: right;\" @change=\"changeDesignMode()\" class=\"p-icon p-plain\" off-color=\"warning-o\" toggle>\n\t\t\t\t\tPause\n\t\t\t\t\t<i slot=\"extra\"\tclass=\"icon mdi mdi-pause\"    style=\"left:-10px;font-size:25px;top:-9px;\"></i>\n\t\t\t\t\t\n\t\t\t\t\t<label slot=\"off-label\">\n\t\t\t\t\t\tPlay\n\t\t\t\t\t</label>\n\t\t\t\t\t<i slot=\"off-extra\" class=\"icon mdi mdi-play\"  style=\"left:-10px;font-size:25px;top:-9px;\"></i>\n\t\t\t\t</pretty-checkbox-vue>\n\t\t\t</div>\n\t\t\t<br/>\n\t\t</div>\n\n\t\t<br/>\n\t\t\n\t\t<div class=\"neumorphism\">\n\t\t\t<!-- Name and FlipX -->\n\t\t\t<div style=\"text-align: left;\">\n\t\t\t\t<span style=\"margin-right:15px\">Name :</span>\n\t\t\t\t<input style=\"width:119px;margin-right:15px\"/>\n\t\t\t\t<pretty-checkbox-vue v-model=\"flipX\" @change=\"setFlipX()\" class=\"p-icon p-curve p-pulse p-thick\" toggle style=\"top:-1px\">\n\t\t\t\t\t<i slot=\"extra\" class=\"icon mdi mdi-checkbox-marked\" style=\"font-size:16px;top:-3px;left:-3px\"></i>\n\t\t\t\t\tFlipX\n\t\t\t\t\t<i slot=\"off-extra\" class=\"icon mdi mdi-checkbox-unmarked\" style=\"font-size:16px;top:-3px;left:-3px\"></i>\n\t\t\t\t\t<label slot=\"off-label\">\n\t\t\t\t\tFlipX\n\t\t\t\t\t</label>\n\t\t\t\t</pretty-checkbox-vue>\t\n\t\t\t</div>\t\n\t\t\n\t\t\t<br/>\n\t\t\n\t\t\t<!-- Color Picker -->\n\t\t\t<div>\n\t\t\t\t<compact-picker :value=\"colors\" @input=\"changeColor\" :preset-colors=\"[ '#000', '#AAA', '#BBB', '#CCC', '#DDD', '#EEE', '#FFF' ]\" />\n\t\t\t</div>\n\t\t\n\t\t\t\n\t\t\t<br/>\n\t\t\n\t\t\t<!-- Opacity -->\n\t\t\t<div class=\"vue-slider\">\n\t\t\t\t<div style=\"margin-right:5px;margin-top:1px\">Opacity :</div> \n\t\t\t\t<vue-slider  v-model=\"opacity\" @change=\"setOpacity()\" @error=\"opacityError()\"  :tooltip=\"'none'\" :dotSize=\"8\" :height=\"2\" :min=\"opacityMin\" :max=\"opacityMax\" :duration=\"0.5\" />\n\t\t\t\t&nbsp;&nbsp;\n\t\t\t\t<input v-model=\"opacity\" style=\"width: 25px;\"/>&nbsp;%\n\t\t\t\t<br />\n\t\t\t</div>\n\t\t\t<span class=\"error\">{{ opacityErrorMsg }}</span>\t\n\t\t</div>\n\n\t\t<br/>\n\t\t<br/>\n\t\t\n\t\t\n\t<!--  Drag and drop ITEMS to canvas -->\n\n\t<div class=\"wrapperGridItems\">\n\t\t<drag v-for='(pngFile, index) in pngItems'  @dragstart=\"toolbox_dragStart(getPngFile(pngFile))\" @dragend=\"toolbox_dragEnd(getPngFile(pngFile))\" :drag-image-opacity=\"0.5\" :go-back='true' :key='pngFile'  :data='pngFile' type='string' style=\"width:60px; height:60px;\">\n\n\t\t\t<img ref=\"pngFile\" @mouseenter=\"showToolTipPhaser(index)\" @mouseleave=\"hideToolTipPhaser()\"  :id=\"pngFile\" :src=\"getPngFile(pngFile)\"   style=\"background:white; border:1px solid black; width:60px; height:60px;padding:2px;\" />\n\n\t\t\t<template v-slot:drag-image >\n\t\t\t\t<div style=\"background:white; border:1px solid black; transform: translate(-50%, -50%)\">\n\t\t\t\t\t<img :src=\"getPngFile(pngFile)\" style=\"width:60px; height:60px;\" />\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</drag>\n\t</div>\n\n\t<br/>\n\n\t<NumberInputSpinner v-model=\"scale_Sprite\"  value='0' :min=\"-100\" :max=\"900\" :step=\"10\" :integerOnly=\"false\"/>\n\n\t\n\t\n\t<br/><br/><br/><br/>\n\t\n\t<div @click=\"initRecord()\">Record(10s)</div>\n\t\n\t<br/><br/>\n\n\t\n\n\t<br/><br/>\n  \n\t<!-- Fullscreen -->\n\t\t<div @click=\"changeFullscreen()\">\n\t\t\t<pretty-checkbox-vue  class=\"p-icon p-plain\" toggle>\n\t\t\t\t<i slot=\"extra\"     class=\"icon mdi mdi-fullscreen\" style=\"color:black;font-size:20px;top:-7px;left:2px;padding-right:13px;\" ></i>\n\t\t\t\tFullscreen\n\t\t\t\t<i slot=\"off-extra\" class=\"icon mdi mdi-fullscreen\" style=\"color:black;font-size:20px;top:-7px;left:2px;padding-right:13px;\" ></i>\n\t\t\t\t<label slot=\"off-label\">\n\t\t\t\tFullscreen\n\t\t\t\t</label>\n\t\t\t</pretty-checkbox-vue>\n\t\t</div>\n\t<br/>\n\t\t<!-- Debug -->\n\t\t<pretty-checkbox-vue v-model=\"debug\" @click=\"DebugMode()\" class=\"p-icon p-curve p-pulse p-thick\"  style=\"top:-1px\">\n\t\t\t<i slot=\"extra\" class=\"icon mdi mdi-checkbox-marked\" style=\"font-size:16px;top:-3px;left:-3px\"></i>\n\t\t\tDebug\n\t\t\t<i slot=\"off-extra\" class=\"icon mdi mdi-checkbox-unmarked\" style=\"font-size:16px;top:-3px;left:-3px\"></i>\n\t\t\t<label slot=\"off-label\">\n\t\t\tDebug\n\t\t\t</label>\n\t\t</pretty-checkbox-vue>\t\n\t\t\n\t\t<br/><br/>\n\n\t\t<br/><br/>\n\n\t\t<br/><br/><br/><br/>\n\t\t\n\t\t\n\t\t\n\t</div>\n\n\t<!-- right side => PHASER-->\n\t<div id=\"wrapper-phaser\"  > \n\t\t<drop @drop=\"PhaserDropped()\" @mousemove=\"moveOnCanvas()\" @mouseleave=\"leaveCanvas()\" accepts-type=\"string\">\n\t\t\t<!-- hide ghost -->\n\t\t\t<template v-slot:drag-image>\n\t\t\t</template>\n\t\t\t<div id=\"center-phaser\" >\n\t\t\t\t<ion-phaser v-bind:game.prop=\"game\"></ion-phaser>\n\t\t\t</div>\n\t\t</drop>\n\t</div>\n\n\t<video autoplay hidden=true id='video' width=\"320\" height=\"240\" controls></video>\n\t\t\n</div>\n</template>\n\n\n<script>\n'use strict'\nlet MouseX = 0 ; let MouseY = 0;\n\tdocument.querySelector('body').onmousemove = (pointer) => {\n\tMouseX = pointer.x ; MouseY = pointer.y\n}\n\nconst ERROR_TYPE = \n{\n\tVALUE: 1,\n\tINTERVAL: 2,\n\tMIN: 3,\n\tMAX: 4,\n\tORDER: 5,\n}\n\nimport Phaser from 'phaser'\n\n//import PrettyInput from 'pretty-checkbox-vue/input'\nimport PrettyCheck from 'pretty-checkbox-vue/check'\n//import PrettyRadio from 'pretty-checkbox-vue/radio'\n\nimport NumberInputSpinner from 'vue-number-input-spinner'\n\nimport 'vue-slider-component/theme/default.css'    \nimport VueSlider  from 'vue-slider-component'\nimport { Compact } from 'vue-color'\nimport { Drag, Drop } from \"vue-easy-dnd\"\n\nimport * as Utils from './utils.js'\n//*** TODO  : il faudra grer le GUID des resources en rapport aux items qui devrait avoir un GUID de ressources plutot que l'id en clair,\n//*** ce qui autorise deux noms identiques \n\n//*** TODO : il faudra grer le GUID en .data.set('GUID', GUID)  et nom en proprit json classique .GUID => plus phaser compatible !\n\nlet JSON_properties =\n{\n\tproject: 'Projet_1',\n\tmp4_duration: 10000,\n\tresources:\n\t[\n\t\t{\n\t\t\tGUID: '001b', id: 'background', type: 'image', src:'user_download/COUPE1-1024x764.png',\n\t\t},\n\t\t{\n\t\t\tGUID: '002c', id: 'man_idle', type: 'spritesheet',src:'fixed/man_idle_68x150.png',\n\t\t\tframeWidth: 68, frameHeight: 150,\n\t\t},\n\t\t{\n\t\t\tGUID: '003d', id: 'man04', type:'spritesheet', src:'animated/man04_78x150.png',\n\t\t\tframeWidth: 78, frameHeight: 150,\n\t\t}\n\t],\n    items:\n    [\n        {\n            GUID: '084f-4177-ad78-e11ae75eeeee', id: 'man_idle', x: 255, y: 291, tint: 0x000000, alpha: 0.7, flipX: true, scale: 0.35,\n\t\t\ttween: { x1: 255, y1: 291, duration: 13000, flipX: false, yoyo: false, repeat: -1 }\n\t\t},\n        {\n            GUID: '084f-4177-ad78-e11ae75ddddd', id: 'man_idle', x: 230, y: 600, tint: 0x000000, alpha: 0.9, flipX: false, scale: 0.80,\n\t\t\ttween: { x1: 230, y1: 600, duration: 13000, flipX: false, yoyo: false, repeat: -1 }\n\t\t},\n        {\n            GUID: '084f-4177-ad78-e11ae75ccccc', id: 'man04', x: 470, y: 587, tint: 0x000000, alpha: 0.5, flipX: true, scale: 0.35,\n\t\t\ttween: { x1: 200, y1: 587, duration: 13000, flipX: true, yoyo: true, repeat: -1 }\n                 \n        },\n        {\n            GUID: '084f-4177-ad78-e11ae75fffff', id: 'man04', x: 150, y: 587, tint: 0x000000, alpha: 0.8, flipX: false, scale: 0.40,\n\t\t\ttween: { x1: 600, y1: 587, duration: 14000, flipX: true, yoyo: true, repeat: -1 }\n           \n        },\n        {\n            GUID: '084f-4177-ad78-e11ae75ggggg', id: 'man04', x: 706, y: 87, tint: 0x000000, alpha: 1, flipX: true, scale: 0.40,\n\t\t\ttween: { x1: 370, y1: 87, duration: 18000, flipX: true, yoyo: true, repeat: -1 }\n            \n        }\n    ],\n    layers:\n    [\n        { \n            name: 'Layer_1', \n            invertAlpha: false,\n            color: '0x77B5FE', \n\t\t\tzones: [ { id: 'Bloc Electrique', coords: [ 210,0, 255,0, 255,350, 210,350 ] } ],\n        },\n        { \n            name: 'Layer_2', \n            invertAlpha: true,\n            color: '0xFFA500', \n            zones: [  \n\t\t\t{ id: 'Terrasse', coords: [ 190,100, 698,100, 698,130, 190,130 ] },\n\t\t\t{ id: 'Garage', coords: [ 502,30, 604,30, 604,110, 502, 110  ] }, \n\t\t\t{ id: 'Sous-Sol', coords: [ 387,550, 490,550, 490,615, 387, 615 ] } \n\t\t\t]\n        },\n        \n    ]\n}\n\n\n// TODO : sceneWidth et sceneHeight en paramtres\n//let sceneWidth = 1920\n//let sceneHeight = 1080\nlet elapsedTime = 0\n\nlet sprites = []\nlet spritesSelected = []\nlet clone_spritesSelected = []\n\nlet spriteAnims = []\nlet animations = []\nlet graphics = []\nlet graphicsMask = []\nlet masks = []\nlet layers = []\n\nlet isDragFromToolBox = []\nlet getVueInstance = null\n\nlet dragArrows = []\nlet spriteDragArrows = []\n\n\nlet isPreviewPhaserMedia = []\n\n\n// REMOVE these 3 lines and change for v-model like debug\nlet fullscreen = false\n\n/*\nconst ratio = Math.max(window.innerWidth / window.innerHeight, window.innerHeight / window.innerWidth)\nconst DEFAULT_HEIGHT = 800 // any height you want\nconst DEFAULT_WIDTH = ratio * DEFAULT_HEIGHT\n*/\n\n\nexport default {\n  name: 'Archi2D',\n  components: \n  {\n    'vue-slider' : VueSlider,\n\t'compact-picker': Compact,\n\t//'p-input': PrettyInput,\n    'pretty-checkbox-vue': PrettyCheck,\n    //'p-radio': PrettyRadio,\n\tNumberInputSpinner,\n\tDrag,\n    Drop,\n\t\n  },\n  data: function () {\n    return {\n\t\tpngItems: ['animated/man04_78x150_thumb.png','fixed/man_idle_68x150_thumb.png',\n\t\t/*'animated/man04_78x150_thumb.png','fixed/man_idle_68x150_thumb.png','animated/man04_78x150_thumb.png',\n\t\t'fixed/man_idle_68x150_thumb.png','animated/man04_78x150_thumb.png','fixed/man_idle_68x150_thumb.png',\n\t\t'animated/man04_78x150_thumb.png','fixed/man_idle_68x150_thumb.png',\n\t\t'fixed/man_idle_68x150_thumb.png','animated/man04_78x150_thumb.png','fixed/man_idle_68x150_thumb.png',\n\t\t'animated/man04_78x150_thumb.png','fixed/man_idle_68x150_thumb.png',\n\t\t'fixed/man_idle_68x150_thumb.png','animated/man04_78x150_thumb.png','fixed/man_idle_68x150_thumb.png',\n\t\t'animated/man04_78x150_thumb.png','fixed/man_idle_68x150_thumb.png',\n\t\t'fixed/man_idle_68x150_thumb.png','animated/man04_78x150_thumb.png','fixed/man_idle_68x150_thumb.png',\n\t\t'animated/man04_78x150_thumb.png','fixed/man_idle_68x150_thumb.png',\n\t\t'fixed/man_idle_68x150_thumb.png','animated/man04_78x150_thumb.png','fixed/man_idle_68x150_thumb.png',*/\n\t\t],\n\t\tisDnD_FromToolBox: false,\n\t\toverCanvas:false,\n\t\tphaserDropped: false,\n\n\t\tdesignMode: true,\n\t\tdisplayLayers: true,\n\n\t\tsceneMouseDown: false,\n\t\tspriteMouseDown: false,\n\n\t\tspriteInSelection: false,\n\t\t// purpose : when spriteInSelection = true we don't change the selection WHEN click on an item OF THE PRE-existing selection \n\t\t//THE PRE-existing selection is stored in clone_selectionRect\n\t\tclone_selectionRect: null,\n\t\tspriteDrag: false,\n\t\tisDragHandleArrow : false,\n\n\t\tflipX: false,\n\n\t\t// vue-slider opacity\n\t\topacity : 0,\n\t\topacityMin: 0,\n        opacityMax: 100,\n        opacityErrorMsg: '',\n\n\t\tscale_Sprite: 0,\n\t\t\n\t\t// sketch\n\t\tcolors: {\n\t\t\t\"hex\": \"#000000\",\n\t\t\t\"source\": \"hex\"\n\t\t},\n\t\tdebug: true,\n\t\t\n\t\t\n\t\tpreviewItem: {\n\t\t\ttype: Phaser.CANVAS,\n\t\t\taudio: {\n\t\t\t\tnoAudio: true\n\t\t\t},\t\n\t\t\tclearBeforeRender: true,\n\t\t\ttransparent: false,\n\t\t\tbackgroundColor: '#FFFFFF',\n\t\t\troundPixels: false,\n\t\t\tautoRound:false,\n\t\t\tpreserveDrawingBuffer: false,\n\t\t\tdesynchronized: false,\n\t\t\tantialias: true,\n\t\t\tfps: { target: 30 },\n\t\t\twidth: 150,\n\t\t\theight: 150,\n\t\t\tscale: {\n\t\t\t\twidth: 150,\n\t\t\t\theight: 150,\n\t\t\t\t//mode: Phaser.Scale.FIT,\n\t\t\t\t//autoCenter: Phaser.Scale.CENTER_BOTH\n\t\t\t},\n\t\t\tdisableContextMenu : true,\n\t\t\tscene: \n\t\t\t{\n\t\t\t\tupdate: function()\n\t\t\t\t{   \n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tif (isPreviewPhaserMedia.length!==0){\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.load.crossOrigin = 'anonymous'\n\n\t\t\t\t\t\tlet file = isPreviewPhaserMedia[0]\n\t\t\t\t\t\tisPreviewPhaserMedia=[]\t\n\t\t\t\t\t\t// png = 'assets/animated/man04_78x150'\n\t\t\t\t\t\tfile =  file.substring(0,file.lastIndexOf(\"_thumb.png\"))\n\t\t\t\t\t\t// id = 'man04'\n\t\t\t\t\t\tconst id = file.substring( file.lastIndexOf(\"/\") + 1, file.lastIndexOf(\"_\") )\n\t\t\t\t\t\tconst tmp = file.substring( file.lastIndexOf(\"_\") + 1, file.length)\n\t\t\t\t\t\t//file = 'assets/animated/man04_78x150.png'\n\t\t\t\t\t\tfile += '.png'\n\t\t\t\t\t\t\n\t\t\t\t\t\t// w = 78\n\t\t\t\t\t\tconst w = Number(tmp.substring( 0, tmp.indexOf(\"x\")))\n\t\t\t\t\t\t// h = 150\n\t\t\t\t\t\tconst h = Number(tmp.substring( tmp.indexOf(\"x\") + 1 , tmp.length))\n\n\t\t\t\t\t\tthis.load.on('complete', () => {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.anims.remove('PhaserMedia_Animation')\n\t\t\t\t\t\t\tlet allSprites = this.children.list.filter(x => x instanceof Phaser.GameObjects.Sprite)\n\t\t\t\t\t\t\tallSprites.forEach(x => x.destroy());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.anims.create ({\n\t\t\t\t\t\t\t\tkey: 'PhaserMedia_Animation',\n\t\t\t\t\t\t\t\tframes: this.anims.generateFrameNumbers(id),\n\t\t\t\t\t\t\t\tframeRate: 12,\n\t\t\t\t\t\t\t\trepeat: -1\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.add.sprite(0,0,id).setOrigin(-0.5,0).play('PhaserMedia_Animation')\n\t\t\t\t\t\t}, this)\n\t\n\t\t\t\t\t\tthis.load.spritesheet(id, file, { frameWidth: w, frameHeight: h })\n\t\t\t\t\t\tthis.load.start()\n\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t}, \n\t\t\t}\n\t\t},\n\n\n\n\n\t\tgame: {\n\t\t\ttype: Phaser.WEBGL,\n\t\t\taudio: {\n\t\t\t\tnoAudio: true\n\t\t\t},\n\t\t\tresolution: window.devicePixelRatio,\n\t\t\tclearBeforeRender: false,\n\t\t\ttransparent: false,\n\t\t\troundPixels: false,\n\t\t\tautoRound:false,\n\t\t\tpreserveDrawingBuffer: false,\n\t\t\tdesynchronized: false,\n\t\t\tantialias: true,\n\t\t\tfps: { target: 60 },\n\t\t\tscale: {\n\t\t\t\tfullscreenTarget: \"wrapper-phaser\",\n\t\t\t\t//width: DEFAULT_WIDTH,\n\t\t\t\tmode: Phaser.Scale.FIT,\n\t\t\t\tautoCenter: Phaser.Scale.CENTER_BOTH\n\t\t\t\t//width: window.innerWidth,\n\t\t\t\t//height: window.innerHeight\n\t\t\t},\n\t\t\tparent: 'center-phaser',\n\t\t\tdisableContextMenu : true,\n\t\t\t\n\t\t\tscene: \n\t\t\t{\n\t\t\tpreload: function()\n\t\t\t{  \n\t\t\t\t//***  Load resources ***/\n\t\t\t\tthis.load.crossOrigin = 'anonymous'\n\n\t\t\t\t//load FIXED ressources for the all app\n\t\t\t\tthis.load.spritesheet('dragArrow', 'assets/dragArrow.png', { frameWidth:22, frameHeight:22 })\n\t\t\t\t\n\t\n\t\t\t\t//load ressources for the project\n\t\t\t\tfor (const iterator in JSON_properties.resources) {\n\t\t\t\t\tconst resource = JSON_properties.resources[iterator]\n\t\t\t\t\tswitch (resource.type) \n\t\t\t\t\t{\n\t\t\t\t\tcase 'image':\n\t\t\t\t\t\t{\t\n\t\t\t\t\t\t\tthis.load.image(resource.id, 'assets/' + resource.src)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\tcase 'spritesheet':\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.load.spritesheet(resource.id, 'assets/' + resource.src, { frameWidth :resource.frameWidth, frameHeight: resource.frameHeight })\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tcreate: function(){   \n\n\t\t\t\tlet timedEvent = this.time.addEvent({ delay: 1000, callback: () => { elapsedTime += timedEvent.getElapsedSeconds() }, callbackScope: this, loop: true }); \n\n\t\t\t\t/* THERE MUST BE a background image */\n\t\t\t\tthis.background = this.add.image((1024/2),(764/2), 'background')\n\n\t\t\t\t//create FIXED ressources anim for the all app\n\t\t\t\tthis.dragArrowfixedResources = this.anims.create(\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'dragArrow',\n\t\t\t\t\t\tframes: this.anims.generateFrameNumbers('dragArrow'),\n\t\t\t\t\t\tframeRate: 1,\n\t\t\t\t\t\trepeat: -1\n\t\t\t\t\t}\n\t\t\t\t)\n\n\n\t\t\t\t// declare select Box\n\t\t\t\tthis.selection = this.add.rectangle(0, 0, 0, 0, 0x1d7196, 0.5)\n\n\t\t\t\tfor (let i = 0; i < JSON_properties.resources.length; i++)\n\t\t\t\t{ \n\t\t\t\t\t// Create spritesheet anims of a sprite => ANIMATIONS SPRITE     \n\t\t\t\t\tconst resource = JSON_properties.resources[i]\n\t\t\t\t\tif (resource.type === 'spritesheet')\n\t\t\t\t\t{\n\t\t\t\t\t\tlet anim = this.anims.create(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: resource.id + '_Animation',\n\t\t\t\t\t\t\t\tframes: this.anims.generateFrameNumbers(resource.id),\n\t\t\t\t\t\t\t\tframeRate: 12,\n\t\t\t\t\t\t\t\trepeat: -1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t\t//const GUID = Utils.CreateUUID() \n\t\t\t\t\t\tanim.GUID = resource.GUID\n\t\t\t\t\t\tspriteAnims.push( anim)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\t//var shape = this.make.graphics().fillCircle(100, 100, 600);\n\t\t\t\t//var mask = shape.createGeometryMask();\n\t\t\t\t//mask.invertAlpha = JSON_properties.layers[i].invertAlpha\n\n\n\t\t\t\t\t\n\t\t\t\t//***  Create sprite + spritesheet animation + tween ***//\n\t\t\t\tfor (let i = 0; i <JSON_properties.items.length; i++)\n\t\t\t\t{\n\t\t\t\t\tconst sprite = JSON_properties.items[i]\n\t\t\t\t\t\n\n\t\t\t\t\tlet s = this.add.sprite( sprite.x, sprite.y )\n\t\t\t\t\t\n\t\t\t\t\ts.GUID = JSON_properties.items[i].GUID\n\n\t\t\t\t\ts.setScale(sprite.scale)\n\t\t\t\t\t.setAlpha(sprite.alpha)\n\t\t\t\t\t.setTintFill(sprite.tint) \n\t\t\t\t\t.setFlipX(sprite.flipX)\n\t\t\t\t\t.setOrigin(0.5)\n\t\t\t\t\t.setInteractive({ draggable: true })\n\t\t\t\t\t.on('pointerdown', function (){    \n\t\t\t\t\t\tgetVueInstance.spriteDrag = true\t\n\t\t\t\t\t\tgetVueInstance.spriteMouseDown = true\n\t\t\t\t\t\tgetVueInstance.isDragHandleArrow  = false\n\t\t\t\t\t})\n\t\t\t\t\t.on('pointerup', function (){    \n\t\t\t\t\t\tgetVueInstance.spriteDrag = false\t\n\t\t\t\t\t\tgetVueInstance.spriteMouseDown = false\n\t\t\t\t\t\tgetVueInstance.isDragHandleArrow  = false\n\t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t\t.on(\"dragstart\", function(){\n\t\t\t\t\t\tgetVueInstance.spriteDrag = true\n\t\t\t\t\t\tgetVueInstance.spriteMouseDown = true\n\t\t\t\t\t\tgetVueInstance.isDragHandleArrow  = false\n\t\t\t\t\t})\t\n\t\t\t\t\t.on(\"drag\", function(pointer){\n\t\t\t\t\t\tgetVueInstance.spriteDrag = true\n\t\t\t\t\t\tgetVueInstance.spriteMouseDown = true\n\t\t\t\t\t\tgetVueInstance.isDragHandleArrow  = false\n\t\t\t\t\t\tthis.x = parseInt(pointer.x)\n\t\t\t\t\t\tthis.y = parseInt(pointer.y)\n\t\t\t\t\t\tJSON_properties.items[i].x =  parseInt(pointer.x)\n\t\t\t\t\t\tJSON_properties.items[i].y =  parseInt(pointer.y)\n\t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t\t.on(\"dragend\", function(){\n\t\t\t\t\t\t\n\t\t\t\t\t\tgetVueInstance.spriteDrag = false\n\t\t\t\t\t\tgetVueInstance.spriteMouseDown = false\n\t\t\t\t\t\tgetVueInstance.isDragHandleArrow  = false\n\t\t\t\t\t})\n\t\t\t\t\t.play(sprite.id + '_Animation')\n\t\t\t\t\t\n\t\t\t\t\ts.setDataEnabled()        \t\t\t\n\t\t\t\t\ts.data.set('id', sprite.id)\n\t\t\t\t\t\n\t\t\t\t\tsprites.push (s) \n\n\t\t\t\t\t// create the sprite tween\n\t\t\t\t\tif (JSON_properties.items[i].tween){\n\t\t\t\t\t\tlet animation = this.tweens.add(\n\t\t\t\t\t\t{ \n\t\t\t\t\t\t\ttargets: sprites[i],\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//x: JSON_properties.items[i].tween.x1,\n\t\t\t\t\t\t\t// CRITIC !!! Create bugs with flipX which SEEMS TO work with X tween interpolate ONLY !!!\n\t\t\t\t\t\t\t// REWRITING tweens implementation seems OBLIGATORY -> investigate DURATION metho\n\t\t\t\t\t\t\t//y: JSON_properties.items[i].tween.y1,\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tflipX: JSON_properties.items[i].tween.flipX,\n\t\t\t\t\t\t\tyoyo: JSON_properties.items[i].tween.yoyo,\n\t\t\t\t\t\t\trepeat: JSON_properties.items[i].tween.repeat,\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tx: {\n\t\t\t\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\t\t\t\tgetStart: function () { return JSON_properties.items[i].x },\n\t\t\t\t\t\t\t\t\t\tgetEnd:   function () { return JSON_properties.items[i].tween.x1 }\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tduration: JSON_properties.items[i].tween.duration \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t//ease: 'Power1', /* WHY NOT ? */\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tanimation.GUID = JSON_properties.items[i].GUID \n\t\t\t\t\t\tanimations.push( animation )\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//***  Create layers invisible by default and masks ***/\n\t\t\t\tfor (let i = 0; i <JSON_properties.layers.length; i++)\n\t\t\t\t{\n\t\t\t\t\t// each sprite pushed inside ONLY ONE Layer\n\t\t\t\t\t// TODO : make sprites[] a parameter in JSON_properties.layers\n\t\t\t\t\tconst indexLayer = i // Index 0 is the layer for Design Mode\n\t\t\t\t\tlayers.push(this.add.layer())\n\t\t\t\t\tif (i === 0){\n\t\t\t\t\t\tlayers[indexLayer].add([sprites[0]])\n\t\t\t\t\t}\n\t\t\t\t\tif (i === 1){\n\t\t\t\t\t\tlayers[indexLayer].add([sprites[2],sprites[3],sprites[4]])\n\t\t\t\t\t}\n\n\t\t\t\t\tgraphics.push(this.add.graphics())\n\t\t\t\t\tgraphicsMask.push(this.make.graphics().fillStyle(0x000000))\n\n\t\t\t\t\tfor (let j = 0; j <JSON_properties.layers[i].zones.length; j++)\n\t\t\t\t\t{   \n\t\t\t\t\t\tconst polygon = new Phaser.Geom.Polygon(\n\t\t\t\t\t\t\tJSON_properties.layers[i].zones[j].coords\n\t\t\t\t\t\t)\n\t\t\t\t\t\tlayers[indexLayer].mask = new Phaser.Display.Masks.BitmapMask(this, graphicsMask[indexLayer].fillPoints(polygon.points, true))\n\t\t\t\t\t\t// invertAlpha = true -> HIDE inside masks // invertAlpha = false -> SHOW ONLY inside masks\n\t\t\t\t\t\tlayers[indexLayer].mask.invertAlpha = JSON_properties.layers[i].invertAlpha\n\t\t\t\t\t\tmasks[indexLayer] = layers[indexLayer].mask\n\t\t\t\t\t\t// we start in Design mode => masks are hidden \n\t\t\t\t\t\tlayers[indexLayer].clearMask()\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Draw layers filled with color (invisible by default) -> fillPoints + strokePoints\n\t\t\t\t\t\tgraphics[indexLayer]\n\t\t\t\t\t\t.fillStyle(JSON_properties.layers[i].color, 0.4)\n\t\t\t\t\t\t.lineStyle(0, JSON_properties.layers[i].color)\n\t\t\t\t\t\t.fillPoints(polygon.points, true)\n\t\t\t\t\t\t.strokePoints(polygon.points, true)\n\t\t\t\t\t\t.setVisible(true) \n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//*** canvas events***/\n\t\t\t\tthis.input\t\n\t\t\t\t.on('pointerdown', handlePointerDown, this)\n\t\t\t\t.on('pointermove', handlePointerMove, this)\n\t\t\t\t.on('pointerup', handlePointerUp, this)\n\t\t\t\t//.on('gamein', gamein, this)\n\t\t\t\t//.on('gameout', gameout, this)\n\t\t\t\t.on('pointerdownoutside', pointerdownoutside, this)\n\t\t\t\t.on('pointerupoutside', pointerupoutside, this)\n\t\t\t\tfunction pointerdownoutside (pointer)\n\t\t\t\t{\n\t\t\t\t\tgetVueInstance.sceneMouseDown = false\n\t\t\t\t\tgetVueInstance.spriteMouseDown = false\n\t\t\t\t\tgetVueInstance.isDrag  = false\n\t\t\t\t\tgetVueInstance.isDragHandleArrow  = false\n\t\t\t\t\tthis.selection.x = pointer.x\n\t\t\t\t\tthis.selection.y = pointer.y\n\t\t\t\t}\n\t\t\t\tfunction pointerupoutside ()\n\t\t\t\t{\n\t\t\t\t\tgetVueInstance.sceneMouseDown = false\n\t\t\t\t\tgetVueInstance.spriteMouseDown = false\n\t\t\t\t\tthis.selection.width = 0\n\t\t\t\t\tthis.selection.height = 0\n\t\t\t\t}\n\t\t\t\tfunction handlePointerDown (pointer)\n\t\t\t\t{\n\t\t\t\t\tif (getVueInstance.isDragHandleArrow === true){\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tgetVueInstance.spriteInSelection = false\n\t\t\t\t\t\n\t\t\t\t\tclone_spritesSelected = []\n\t\t\t\t\tfor (let i = 0; i < spritesSelected.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tclone_spritesSelected.push(spritesSelected[i])\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (getVueInstance.spriteMouseDown && !getVueInstance.spriteDrag)\n\t\t\t\t\t{\t\t\n\t\t\t\t\t\t\n\n\t\t\t\t\t\tgetVueInstance.sceneMouseDown = false\n\t\t\t\t\t\t//getVueInstance.sceneMouseUp = false\n\n\t\t\t\t\t\tthis.selection.x = pointer.x\n\t\t\t\t\t\tthis.selection.y = pointer.y\n\t\t\t\t\t\tthis.selection.width = 0\n\t\t\t\t\t\tthis.selection.height = 0\n\t\t\t\t\t\tconst selectionRect = new Phaser.Geom.Rectangle(\n\t\t\t\t\t\t\tpointer.x,\n\t\t\t\t\t\t\tpointer.y,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t0\n\t\t\t\t\t\t)\n\t\t\t\t\t\tSelectedBox(selectionRect) \n\t\t\t\t\t\thandlePointerMove.bind(this)\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (clone_spritesSelected.length > 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor (let i = 0; i < clone_spritesSelected.length; i++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (clone_spritesSelected[i].GUID === spritesSelected[0].GUID)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tgetVueInstance.spriteInSelection = true\n\t\t\t\t\t\t\t\t\tspritesSelected = []\n\t\t\t\t\t\t\t\t\tfor (let i = 0; i < clone_spritesSelected.length; i++)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tspritesSelected.push(clone_spritesSelected[i])\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tSelectedBox(getVueInstance.clone_selectionRect)\n\t\t\t\t\t\t\t\t\thandlePointerMove.bind(this)\n\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tgetVueInstance.spriteInSelection = false\n\n\t\t\t\t\t\tclone_spritesSelected = []\n\t\t\t\t\t\tfor (let i = 0; i < spritesSelected.length; i++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclone_spritesSelected.push(spritesSelected[i])\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tspritesSelected = []\n\t\t\t\t\t\tgetVueInstance.sceneMouseDown = true\n\t\t\t\t\t\t//getVueInstance.sceneMouseUp = false\n\n\t\t\t\t\t\tthis.selection.x = pointer.x\n\t\t\t\t\t\tthis.selection.y = pointer.y\n\t\t\t\t\t\tthis.selection.width = 0\n\t\t\t\t\t\tthis.selection.height = 0\n\t\t\t\t\t\tconst selectionRect = new Phaser.Geom.Rectangle(\n\t\t\t\t\t\t\tpointer.x,\n\t\t\t\t\t\t\tpointer.y,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t0\n\t\t\t\t\t\t)\n\t\t\t\t\t\tSelectedBox(selectionRect) \n\t\t\t\t\t\thandlePointerMove.bind(this)\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// eslint-disable-next-line no-//console\n\t\t\t\t\t//console.log('scene pointerdown')\n\t\t\t\t}\n\t\t\t\tfunction handlePointerMove(pointer)\n\t\t\t\t{\n\t\t\t\t\tif (getVueInstance.isDragHandleArrow === true){\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tgetVueInstance.sceneMouseDown = false\n\t\t\t\t\t\n\t\t\t\t\tif (getVueInstance.spriteMouseDown || !pointer.isDown){\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\t\n\n\t\t\t\t\t//that.mouseMove = true\n\n\t\t\t\t\tconst dx = pointer.x - pointer.prevPosition.x\n\t\t\t\t\tconst dy = pointer.y - pointer.prevPosition.y\n\n\t\t\t\t\tthis.selection.width += dx\n\t\t\t\t\tthis.selection.height += dy\n\t\t\t\t\t\n\n\t\t\t\t\t// create a new Rectangle\n\t\t\t\t\tconst selectionRect = new Phaser.Geom.Rectangle(\n\t\t\t\t\t\tthis.selection.x,\n\t\t\t\t\t\tthis.selection.y,\n\t\t\t\t\t\tthis.selection.width,\n\t\t\t\t\t\tthis.selection.height\n\t\t\t\t\t)\n\n\t\t\t\t\t// check if width or height is negative\n\t\t\t\t\t// and then adjust\n\t\t\t\t\tif (selectionRect.width < 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tselectionRect.x += selectionRect.width\n\t\t\t\t\t\tselectionRect.width *= -1\n\t\t\t\t\t}\n\t\t\t\t\tif (selectionRect.height < 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tselectionRect.y += selectionRect.height\n\t\t\t\t\t\tselectionRect.height *= -1\n\t\t\t\t\t}\n\n\t\t\t\t\tgetVueInstance.clone_selectionRect = selectionRect\n\n\t\t\t\t\t// Do Something with selected box\n\t\t\t\t\tSelectedBox(selectionRect)\n\t\t\t\t}\n\t\t\t\tfunction handlePointerUp()\n\t\t\t\t{\n\t\t\t\t\tif (getVueInstance.isDragHandleArrow === true){\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tgetVueInstance.spriteInSelection = false\n\t\t\t\t\tthis.selection.width = 0\n\t\t\t\t\tthis.selection.height = 0\n\t\t\t\n\t\t\t\t\tif (spritesSelected.length === 0)\n\t\t\t\t\t{\n\t\t\t\t\t\t// Empty \n\t\t\t\t\t\tconst selectionRect = new Phaser.Geom.Rectangle(\n\t\t\t\t\t\t\tthis.selection.x,\n\t\t\t\t\t\t\tthis.selection.y,\n\t\t\t\t\t\t\tthis.selection.width,\n\t\t\t\t\t\t\tthis.selection.height\n\t\t\t\t\t\t)\n\t\t\t\t\t\tSelectedBox(selectionRect)\n\t\t\t\t\t}\n\t\t\t\t\tgetVueInstance.spriteMouseDown = false\n\t\t\t\t\tgetVueInstance.sceneMouseDown = false\n\t\t\t\t}\n\t\t\t\tfunction SelectedBox(selectionRect) \n\t\t\t\t{\n\t\t\t\t\t// use the new Rectangle to check for overlap\n\t\t\t\t\tconst selected = sprites.filter(sprite => {\n\t\t\t\t\t\tconst rect = sprite.getBounds()\n\t\t\t\t\t\treturn Phaser.Geom.Rectangle.Overlaps(selectionRect, rect)\n\t\t\t\t\t})\n\n\t\t\t\t\t// Draw new sprites selection shapes\n\t\t\t\t\tspritesSelected = []\n\t\t\t\t\tfor (let i = 0; i < selected.length; i++){\n\t\t\t\t\t\tspritesSelected.push(selected[i])\n\t\t\t\t\t}\n\t\t\t\t\tpropertiesUpdate()\n\t\t\t\t}\n\t\t\t\tfunction propertiesUpdate() {\n\t\t\t\t\t// single selection => update GUI properties\n\t\t\t\t\tif (spritesSelected.length === 1){ \n\t\t\t\t\t\tgetVueInstance.opacity  = spritesSelected[0].alpha * 100\n\t\t\t\t\t\tgetVueInstance.flipX  = spritesSelected[0].flipX\n\t\t\t\t\t\tgetVueInstance.scale_Sprite  = parseInt(spritesSelected[0].scale * 100)\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// declare debug for the update event\n\t\t\t\tthis.infos = this.add.text(10, 10, '', { fontFamily: 'Arial', fontSize: 14, color: '#00bb00' })  \n\t\t\t\t\n\t\t\t\t//declare canvas for the update event\n\t\t\t\tthis.canvas = this.add.graphics({ lineStyle: {  width: 1, color: 0x77B5FE, alpha: 1 } })\t\n\t\t\t}, \n\n\n\n\n\n\t\t\tupdate: function(){   \n\t\t\t\tthis.canvas.clear()\n\t\t\t\t\n\t\t\t\t//only once\n\t\t\t\tif ((this.designMode==null) ){\n\t\t\t\t\tthis.designMode = true\n\t\t\t\t\tfor (let i = 0; i < animations.length; i++){\n\t\t\t\t\t\tanimations[i].restart().seek(0.01).pause()\n\t\t\t\t\t}\n\t\t\t\t\tfor (let i = 0; i < spriteAnims.length; i++){\n\t\t\t\t\t\tspriteAnims[i].pause()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (isDragFromToolBox.length){\n\t\t\t\t\tpngLazyLoad.call(this, isDragFromToolBox[0])\n\t\t\t\t\tisDragFromToolBox=[]\n\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\tfunction pngLazyLoad(png) {\n\t\t\t\t\tthis.load.crossOrigin = 'anonymous'\n\t\t\t\t\t// png = 'assets/animated/man04_78x150'\n\t\t\t\t\tpng =  png.substring(0,png.lastIndexOf(\"_thumb.png\"))\n\t\t\t\t\t// id = 'man04'\n\t\t\t\t\tconst id = png.substring( png.lastIndexOf(\"/\") + 1, png.lastIndexOf(\"_\") )\n\t\t\t\t\tconst tmp = png.substring( png.lastIndexOf(\"_\") + 1, png.length)\n\t\t\t\t\t// png = 'assets/animated/man04_78x150.png'\n\t\t\t\t\tpng += '.png'\n\t\t\t\t\t// w = 78\n\t\t\t\t\tconst w = Number(tmp.substring( 0, tmp.indexOf(\"x\")))\n\t\t\t\t\t// h = 150\n\t\t\t\t\tconst h = Number(tmp.substring( tmp.indexOf(\"x\") + 1 , tmp.length))\n\n\t\t\t\t\t// see below this.load.start\n\t\t\t\t\t// alert('0')\n\t\t\t\t\tlet GUID = Utils.CreateUUID()\n\t\t\t\t\tthis.load.spritesheet(id, png, { frameWidth: w, frameHeight: h})\n\t\t\t\t\t// alert('1')\n\n\n\t\t\t\t\t\tthis.load.once('complete', ()=>{\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// alert('3')\n\t\t\t\t\t\t\tspriteAnims.push( \n\t\t\t\t\t\t\t\tthis.anims.create ({\n\t\t\t\t\t\t\t\t\tkey: id + '_Animation',\n\t\t\t\t\t\t\t\t\tframes: this.anims.generateFrameNumbers(id),\n\t\t\t\t\t\t\t\t\tframeRate: 12, // TODO\n\t\t\t\t\t\t\t\t\trepeat: -1\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Add the new item to original JSON\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tJSON_properties.items.push (\n\t\t\t\t\t\t\t\t{ \n\t\t\t\t\t\t\t\tGUID: GUID, id: id, x: 200, y: 100, tint: 0x000000, alpha:1, flipX:false, scale:0.5,\n\t\t\t\t\t\t\t\ttween: { x1:600, y1:100, duration:5000, flipX:true, yoyo:true, repeat:-1 }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//const indexJSON_properties_items = JSON_properties.items.length-1\n\t\t\t\t\t\t\t//destroy this and REPLACE with an index property in sprite with value = i\n\t\t\t\t\t\t\t//const indexSprites = sprites.length-1\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tconst s = this.add.sprite( -200, -200 )\n\t\t\t\t\t\t\t.setScale(0.5)\n\t\t\t\t\t\t\t.setOrigin(0.5)\n\t\t\t\t\t\t\t.setFlipX(false)\n\t\t\t\t\t\t\t.setInteractive({ draggable: true })\n\t\t\t\t\t\t\t.on('pointerdown', function (){    \n\t\t\t\t\t\t\t\tgetVueInstance.spriteDrag = true\t\n\t\t\t\t\t\t\t\tgetVueInstance.spriteMouseDown = true\n\t\t\t\t\t\t\t\tgetVueInstance.isDragHandleArrow  = false\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on('pointerup', function (){    \n\t\t\t\t\t\t\t\tgetVueInstance.spriteDrag = false\t\n\t\t\t\t\t\t\t\tgetVueInstance.spriteMouseDown = false\n\t\t\t\t\t\t\t\tgetVueInstance.isDragHandleArrow  = false\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on(\"dragstart\", function(){\n\t\t\t\t\t\t\t\tgetVueInstance.spriteDrag = true\n\t\t\t\t\t\t\t\tgetVueInstance.spriteMouseDown = true\n\t\t\t\t\t\t\t\tgetVueInstance.isDragHandleArrow  = false\n\t\t\t\t\t\t\t})\t\n\t\t\t\t\t\t\t.on(\"drag\", function(pointer){\n\t\t\t\t\t\t\t\tgetVueInstance.spriteDrag = true\n\t\t\t\t\t\t\t\tgetVueInstance.spriteMouseDown = true\n\t\t\t\t\t\t\t\tgetVueInstance.isDragHandleArrow  = false\n\t\t\t\t\t\t\t\tthis.x = parseInt(pointer.x)\n\t\t\t\t\t\t\t\tthis.y = parseInt(pointer.y)\n\n\n\t\t\t\t\t\t\t\tJSON_properties.items.filter(s  => s.GUID === GUID)[0].x =  parseInt(pointer.x)\n\t\t\t\t\t\t\t\tJSON_properties.items.filter(s  => s.GUID === GUID)[0].y =  parseInt(pointer.y)\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on(\"dragend\", function(){\n\t\t\t\t\t\t\t\tgetVueInstance.spriteDrag = false\n\t\t\t\t\t\t\t\tgetVueInstance.spriteMouseDown = false\n\t\t\t\t\t\t\t\tgetVueInstance.isDragHandleArrow  = false\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.play(id + '_Animation')\n\n\t\t\t\t\t\t\ts.setDataEnabled()        \t\t\t\n\t\t\t\t\t\t\ts.data.set('id', id + '_' + '9999')\n\t\t\t\t\t\t\ts.GUID = GUID \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tsprites.push (s) \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//let allSprites = getVueInstance.children.list.filter(x => x instanceof Phaser.GameObjects.Sprite);\n\t\t\t\t//allSprites.forEach(x => console.log(x));\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//const result = JSON_properties.items.filter(s  => s.GUID === GUID)[0].x\n\t\t\t\t\t\t\t//console.log(result)\n\t\t\t\t\t\t\t//console.table(sprites.filter((s)  => s.data.get(GUID) === GUID))\n\t\t\t\t\t\t\tanimations.push (\n\t\t\t\t\t\t\t\tthis.tweens.add(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tGUID: GUID,\n\t\t\t\t\t\t\t\t\ttargets: sprites.filter(i  => i.GUID === GUID)[0], //sprites[sprites.length -1],\n\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\tflipX: JSON_properties.items.filter(i  => i.GUID === GUID)[0].tween.flipX,\n\t\t\t\t\t\t\t\t\tyoyo: JSON_properties.items.filter(i  => i.GUID === GUID)[0].tween.yoyo,\n\t\t\t\t\t\t\t\t\trepeat: JSON_properties.items.filter(i  => i.GUID === GUID)[0].tween.repeat,\n\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\tx: {\n\t\t\t\t\t\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\t\t\t\t\t\tgetStart: function()  { return JSON_properties.items.filter(i  => i.GUID === GUID)[0].x },\n\t\t\t\t\t\t\t\t\t\t\t\tgetEnd:   function()  { return JSON_properties.items.filter(i  => i.GUID === GUID)[0].tween.x1 }\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tduration: JSON_properties.items.filter(i  => i.GUID === GUID)[0].tween.duration \n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t//ease: 'Power1', /* WHY NOT ? */\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tpaused: true\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// anim.pause() must be paused\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}, this);   \n\n\t\t\t\t\t// alert('2')\n\t\t\t\t\t// call complete() just ABOVE ! \n\t\t\t\t\tthis.load.start()\n\n\t\t\t\t\t//const result = sprites.filter(s  => s.GUID === GUID)\n\t\t\t\t\t//console.log(result)\n\n\t\t\t\t\tspritesSelected.push(sprites[sprites.length - 1])\n\n\t\t\t\t\t// alert('3') IS ABOVE !!!\t\n\t\t\t\t\t// this is alert('4')\n\t\t\t\t\tthis.input.on('pointermove', (pointer) => {\n\t\t\t\t\t\tif (( getVueInstance.overCanvas ) && ( getVueInstance.isDnD_FromToolBox ))\t{\n\t\t\t\t\t\t\tsprites[sprites.length - 1].setPosition(pointer.x, pointer.y)\n\t\t\t\t\t\t\tconst j =  JSON_properties.items[sprites.length - 1]\n\t\t\t\t\t\t\tj.x = parseInt(pointer.x)\n\t\t\t\t\t\t\tj.y = parseInt(pointer.y)\n\t\t\t\t\t\t\tj.tween.x1 = parseInt(pointer.x) + 200\n\t\t\t\t\t\t\tj.tween.y1 = parseInt(pointer.y)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\n\t\t\t\tif (getVueInstance.debug){\n\t\t\t\t\tlet debug = ''\n\n\t\t\t\t\tlet minutes = Math.floor(elapsedTime / 60);\n\t\t\t\t\tlet seconds = Math.floor(elapsedTime - (minutes * 60));\n\t\t\t\t\tdebug += \"elapsedTime: \" +  minutes + ':' +  seconds + \"\\n\";\n\n\t\t\t\t\tdebug+= 'MouseX : ' + MouseX + ' MouseY:' + MouseY + \"\\n\"\n\t\t\t\t\tdebug+= 'sprites[3] pointermove x: ' + sprites[3].x + ' y:' + sprites[3].y + \"\\n\"\n\t\t\t\t\t\n\t\t\t\t\tdebug+= 'isDnD_FromToolBox: ' + getVueInstance.isDnD_FromToolBox + \"\\n\"\n\t\t\t\t\tdebug+= 'overCanvas: ' + getVueInstance.overCanvas + \"\\n\"\n\n\t\t\t\t\tdebug+= 'isTweening[3]: ' + this.tweens.isTweening(sprites[3]) + \"\\n\"\n\t\t\t\t\tif (this.tweens.getTweensOf(sprites[3],true)[0]){\n\t\t\t\t\t\tdebug+= \t'tween[3] : Start=' + this.tweens.getTweensOf(sprites[3],true)[0].data[0].start + \n\t\t\t\t\t\t\t\t\t\t' End=' + this.tweens.getTweensOf(sprites[3],true)[0].data[0].end\n\t\t\t\t\t\t+ \"\\n\" + \"\\n\"\n\t\t\t\t\t}\n\n\t\t\t\t\t//debug+= 'Is tweening[3]: ' + getVueInstance.mouse.x + \"\\n\"\n\n\t\t\t\t\t//let allSprites = this.children.list.filter(x => x instanceof Phaser.GameObjects.Sprite)\n\t\t\t\t\tdebug+= (this.game.loop.actualFps | 0) + \"fps \\n\" \n\t\t\t\t\tdebug+= 'Nb Sprites: ' + sprites.length + \"\\n\" \n\t\t\t\t\tdebug+= 'designMode: ' + getVueInstance.designMode + \"\\n\" \n\t\t\t\t\tdebug+= 'displayLayers: ' + getVueInstance.displayLayers + \"\\n\" \n\t\t\t\t\t\n\t\t\t\t\tdebug+= 'sceneMouseDown: ' + getVueInstance.sceneMouseDown +  \"\\n\" \n\t\t\t\t\t//debug+= 'sceneMouseUp: ' + getVueInstance.sceneMouseUp +  \"\\n\" \n\t\t\t\t\t\n\t\t\t\t\tdebug+= 'spriteMouseDown: ' + getVueInstance.spriteMouseDown +  \"\\n\" \n\t\t\t\t\tdebug+= 'spriteInSelection: ' + getVueInstance.spriteInSelection +  \"\\n\" \n\t\t\t\t\tdebug+= 'spriteDrag: ' + getVueInstance.spriteDrag +  \"\\n\" \n\t\t\t\t\tdebug+= 'isDragHandleArrow: ' + getVueInstance.isDragHandleArrow +  \"\\n\\n\" \n\t\t\t\t\t\t\t\n\t\t\t\t\tdebug+= 'spritesSelected: ' + \"\\n\" \n\t\t\t\t\tfor (let i = 0; i < spritesSelected.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug+= spritesSelected[i].data.get('id') + \" || \" + spritesSelected[i].GUID + \"\\n\" \n\t\t\t\t\t}\n\n\t\t\t\t\tdebug+= 'clone_spritesSelected: ' + \"\\n\" \n\t\t\t\t\tfor (let i = 0; i < clone_spritesSelected.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug+= clone_spritesSelected[i].data.get('id') + \" || \" + clone_spritesSelected[i].GUID  + \"\\n\" \n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tdebug+= 'isDragFromToolBox: ' + JSON.stringify(isDragFromToolBox)  + \"\\n\"\n\t\t\t\t\t\n\t\t\t\t\tdebug+= \"\\n\" + 'spriteDragArrows: ' + \"\\n\" \n\t\t\t\t\tfor (let i = 0; i < spriteDragArrows.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug+= JSON.stringify(spriteDragArrows[i].GUID) + \"\\n\" \n\t\t\t\t\t}\n\t\t\t\t\t\n\n\n\t\t\t\t\tthis.infos.setText(debug)\n\t\t\t\t} else {\n\t\t\t\t\tthis.infos.setText('')\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (fullscreen){\n\n\t\t\t\t\t\n\t\t\t\t\t\tthis.designMode = false\n\t\t\t\t\t\n\t\t\t\t\t\t// masks or not ?\n\t\t\t\t\t\tfor (let i = 0; i < JSON_properties.layers.length; i++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.designMode ? layers[i].clearMask() : layers[i].setMask(masks[i])\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// sprites play or pause => stop ?\n\t\t\t\t\t\tfor (let i = 0; i < JSON_properties.items.length; i++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst sprite = JSON_properties.items[i]\n\t\t\t\t\t\t\tthis.designMode ? sprites[i].setFrame(0).pause() : sprites[i].play(sprite.id + '_Animation')\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t// animations or not ?\n\t\t\t\t\t\tfor (let i = 0; i < animations.length; i++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.designMode ? animations[i].pause() : animations[i].restart()\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// this.scale.setGameSize(sceneWidth*2, sceneHeight*2)\n\t\t\t\t\t\t//this.scale.setGameSize(window.innerWidth, window.innerHeight)\n\t\t\t\t\t\t\n\t\t\t\t\t\tfullscreen = false\n\t\t\t\t\t\tthis.scale.startFullscreen()\t\n\t\t\t\t\t\n\t\t\t\t}\n\n\n\t\t\t\t/*** SELECTED OBJECTS ***/\n\t\t\t\tconst g = this.canvas\n\t\t\t\tif ( getVueInstance.designMode ) {\n\t\t\t\t\tconst  timer = (Date.now() % 600+1) / 600\n\n\t\t\t\t\t// Hack blendmodes : why not ?\n\t\t\t\t\t//g.setBlendMode(Phaser.BlendModes.MULTIPLY);\n\n\t\t\t\t\t/* draw sprites SELECTION ANIMATED and other sprites (OUT OF SELECTION) handles  ***/\n\t\t\t\t\tfor (let i = 0; i < sprites.length; i++){\n\t\t\t\t\t\tif ((i == sprites.length - 1) && ( !getVueInstance.overCanvas ) && ( getVueInstance.isDnD_FromToolBox )){\n\t\t\t\t\t\t\t// isDnD_FromToolBox && !overCanvas (= drag NEW sprite)\n\t\t\t\t\t\t\t// don't show any type of handles\n\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t} \n\t\t\t\t\t\tconst bounds = sprites[i].getBounds()\n\t\t\t\t\t\tconst rect = new Phaser.Geom.Rectangle(bounds.x, bounds.y, bounds.width, bounds.height)\n\t\t\t\t\t\tconst points = []\n\t\t\t\t\t\tPhaser.Geom.Rectangle.Decompose(rect, points)\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t// draw OUT OF SELECTION sprite\n\t\t\t\t\t\tif (spritesSelected.includes(sprites[i])===false){\n\t\t\t\t\t\t\t// draw sprite selection rect\n\t\t\t\t\t\t\tg.lineStyle(2, 0x77B5FE, 1)\n\t\t\t\t\t\t\tg.fillStyle( 0x77B5FE, 1)\n\t\t\t\t\t\t\tg.strokeRectShape(bounds)\n\t\t\t\t\t\t\t// draw handles\t\n\t\t\t\t\t\t\tfor(let j = 0; j < points.length; j++){\n\t\t\t\t\t\t\t\tg.lineStyle(2, 0x77B5FE, 1)\n\t\t\t\t\t\t\t\tg.fillRect((points[j].x)-4,(points[j].y)-4, 8, 8)\n\n\t\t\t\t\t\t\t\tg.lineStyle(1, 0xFFFFFF, 1)\n\t\t\t\t\t\t\t\tg.strokeRect((points[j].x)-4,(points[j].y)-4, 8, 8)\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t// draw spritesSelected\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (!getVueInstance.spriteDrag  ){\n\t\t\t\t\t\t\t\tconst poly=[]\n\t\t\t\t\t\t\t\tfor(let j = 0; j < points.length; j++)\n\t\t\t\t\t\t\t\t\tpoly.push({x:Number(points[j].x), y:Number(points[j].y)})\n\n\t\t\t\t\t\t\t\t// Draw ANIMATED dashed selection\n\t\t\t\t\t\t\t\tg.lineStyle(2, 0x000000, 1)\n\t\t\t\t\t\t\t\tg.fillStyle( 0x000000, 1)\n\t\t\t\t\t\t\t\tUtils.drawDashedPolygon(g, poly, 0, 0, 0, 8, 4,timer)\n\t\t\t\t\t\t\t\t//draw handles\n\t\t\t\t\t\t\t\tfor(let j = 0; j < points.length; j++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tg.lineStyle(2, 0x000000, 1)\n\t\t\t\t\t\t\t\t\tg.fillStyle( 0x000000, 1)\n\t\t\t\t\t\t\t\t\tg.fillRect(points[j].x-4,points[j].y-4, 8, 8)\t\n\n\t\t\t\t\t\t\t\t\tg.lineStyle(1, 0xFFFFFF, 1)\n\t\t\t\t\t\t\t\t\tg.strokeRect((points[j].x)-4,(points[j].y)-4, 8, 8)\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Draw arrows from tweens animations\t\n\t\t\t\t\tfor (let i = 0; i < animations.length; i++){\n\t\t\t\t\t\t// isDnD_FromToolBox && !overCanvas\n\t\t\t\t\t\t// don't show ARROWS of the future (?) animation sprite outside canvas zone\n\t\t\t\t\t\tif ((i == animations.length - 1) && ( !getVueInstance.overCanvas ) && ( getVueInstance.isDnD_FromToolBox ))\n\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\n\t\t\t\t\t\t//console.log(animations[i]) /* explore tween*/\n\n\t\t\t\t\t\tg.lineStyle(3, 0x77B5FE)\n\t\t\t\t\t\tUtils.Arrow(\n\t\t\t\t\t\t\tg, \n\t\t\t\t\t\t\tJSON_properties.items[i].x,\n\t\t\t\t\t\t\tJSON_properties.items[i].y,\n\t\t\t\t\t\t\tJSON_properties.items[i].tween.x1,\n\t\t\t\t\t\t\tJSON_properties.items[i].y\n\t\t\t\t\t\t\t//animations[i].targets[0].x, \n\t\t\t\t\t\t\t//animations[i].targets[0].y, \n\t\t\t\t\t\t\t//animations[i].data[0].end, //only 'x' value for the Archi2D app\n\t\t\t\t\t\t\t//animations[i].targets[0].y\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\n\t\t\t\t\t\tg.lineStyle(3, 0x77B5FE)\n\t\t\t\t\t\tUtils.dashedLine(\n\t\t\t\t\t\t\tg,\n\t\t\t\t\t\t\tJSON_properties.items[i].tween.x1,\n\t\t\t\t\t\t\tJSON_properties.items[i].y,\n\t\t\t\t\t\t\tJSON_properties.items[i].x,\n\t\t\t\t\t\t\tJSON_properties.items[i].y,\n\t\t\t\t\t\t\t[15,5,5,5]\n\t\t\t\t\t\t);\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t//draw selected arrow handle for Drag & Drop if ONLY 1 media is selected\n\t\t\t\t\tif (spritesSelected.length === 1){\n\t\t\t\t\t\t\n\t\t\t\t\t\t//reinitialize\n\t\t\t\t\t\tif  ((getVueInstance.spriteDrag) || (spriteDragArrows.length ===0 ) && ((dragArrows.indexOf( spritesSelected[0].GUID) !==-1) || (spriteDragArrows.length === 0))){\n\t\t\t\t\t\t\tfor (let i = 0; i < spriteDragArrows.length; i++){\n\t\t\t\t\t\t\t\tspriteDragArrows[i].removeFromDisplayList()\n\t\t\t\t\t\t\t\tspriteDragArrows[i].removeInteractive()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tspriteDragArrows = []\n\n\t\t\t\t\t\t\tdragArrows = []\n\t\t\t\t\t\t\tconst point = JSON_properties.items.filter(i  => i.GUID === spritesSelected[0].GUID)[0]\n\t\t\t\t\t\t\tdragArrows.push({ GUID: spritesSelected[0].GUID, x: Number(point.tween.x1), y: Number(point.y)})\n\n\t\t\t\t\t\t\tfor (let i = 0; i < dragArrows.length; i++){\n\t\t\t\t\t\t\t\tlet s = this.add.sprite( dragArrows[i].x, dragArrows[i].y )\n\t\t\t\t\t\t\t\t.setOrigin(0.5)\n\t\t\t\t\t\t\t\t.setInteractive({ draggable: true })\n\t\t\t\t\t\t\t\t.on('pointerdown', function (){    \n\t\t\t\t\t\t\t\t\tgetVueInstance.sceneMouseDown = false\n\t\t\t\t\t\t\t\t\tgetVueInstance.spriteDrag = false\t\n\t\t\t\t\t\t\t\t\tgetVueInstance.spriteMouseDown = true\n\t\t\t\t\t\t\t\t\tgetVueInstance.isDragHandleArrow = true\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.on('pointerup', function (){    \n\t\t\t\t\t\t\t\t\tgetVueInstance.sceneMouseDown = false\n\t\t\t\t\t\t\t\t\tgetVueInstance.spriteDrag = false\t\n\t\t\t\t\t\t\t\t\tgetVueInstance.spriteMouseDown = false\n\t\t\t\t\t\t\t\t\tgetVueInstance.isDragHandleArrow = false\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.on(\"dragstart\", function(){\n\t\t\t\t\t\t\t\t\tgetVueInstance.sceneMouseDown = false\n\t\t\t\t\t\t\t\t\tgetVueInstance.spriteDrag = false\n\t\t\t\t\t\t\t\t\tgetVueInstance.spriteMouseDown = true\n\t\t\t\t\t\t\t\t\tgetVueInstance.isDragHandleArrow = true\n\t\t\t\t\t\t\t\t})\t\n\t\t\t\t\t\t\t\t.on(\"drag\", function(pointer){\n\t\t\t\t\t\t\t\t\tgetVueInstance.sceneMouseDown = false\n\t\t\t\t\t\t\t\t\tgetVueInstance.spriteDrag = false\n\t\t\t\t\t\t\t\t\tgetVueInstance.spriteMouseDown = true\n\t\t\t\t\t\t\t\t\tgetVueInstance.isDragHandleArrow = true\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tthis.x = parseInt(pointer.x)\n\t\t\t\t\t\t\t\t\tthis.y = parseInt(point.y) // only x for this app\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tpoint.tween.x1 =  parseInt(pointer.x)\t\t\t\t\t\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.on(\"dragend\", function(){\n\t\t\t\t\t\t\t\t\tgetVueInstance.sceneMouseDown = false\n\t\t\t\t\t\t\t\t\tgetVueInstance.spriteDrag = false\n\t\t\t\t\t\t\t\t\tgetVueInstance.spriteMouseDown = false\n\t\t\t\t\t\t\t\t\tgetVueInstance.isDragHandleArrow = false\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.play(this.dragArrowfixedResources)\n\t\t\t\t\t\t\t\ts.setDataEnabled()        \t\t\t\n\t\t\t\t\t\t\t\ts.data.set('GUID', spritesSelected[0].GUID)\n\t\t\t\t\t\t\t\ts.GUID = spritesSelected[0].GUID\n\t\t\t\t\t\t\t\ts.data.set('id', 'dragArrowfixedResources')\n\t\t\t\t\t\t\t\tspriteDragArrows.push (s) \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (let i = 0; i < spriteDragArrows.length; i++){\n\t\t\t\t\t\t\tspriteDragArrows[i].removeFromDisplayList()\n\t\t\t\t\t\t\tspriteDragArrows[i].removeInteractive()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tspriteDragArrows = []\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// not in designMode\n\t\t\t\t\tfor (let i = 0; i < spriteDragArrows.length; i++){\n\t\t\t\t\t\tspriteDragArrows[i].removeFromDisplayList()\n\t\t\t\t\t\tspriteDragArrows[i].removeInteractive()\n\t\t\t\t\t}\n\t\t\t\t\tspriteDragArrows = []\n\t\t\t\t}\t\t\t\n\t\t\t},\n\t\t\tgetVueInstance: function() {\n\t\t\t\tgetVueInstance = this\n\t\t\t},\n\t\t\tchangeColor : function (colors){\n\t\t\t\tfor (let i = 0; i < spritesSelected.length; i++)\n\t\t\t\t\tsprites[sprites.indexOf(spritesSelected[i])].setTintFill( '0x' + colors.hex.substring(1) )\n\t\t\t}, \n\t\t\ttest: function (){\n\t\t\t\t//console.log(this)\n\t\t\t\t//let allSprites = getVueInstance.children.list.filter(x => x instanceof Phaser.GameObjects.Sprite);\n\t\t\t\t//allSprites.forEach(x => console.log(x));\n\t\t\t}\n\t\t},\n\n\t\t},\n\t\t\n\n      \n    }\n  },\n  created: function() {\n\tthis.game.scene.getVueInstance.call(this)\n  },\n  mounted:function(){\n  },\n\n  methods: {\n\tshowToolTipPhaser(index){\n\t\tconst x = this.$refs.pngFile[index].getBoundingClientRect().left - (this.$refs.pngFile[index].getBoundingClientRect().width / 2) -10\n\t\tconst y = (this.$refs.pngFile[index].getBoundingClientRect().top - this.$refs.pngFile[index].getBoundingClientRect().height) - 110 \n\t\t\n\t\t\t\t\t\t\t\n\t\tif ((isPreviewPhaserMedia.length===0) || (isPreviewPhaserMedia[0]!==this.$refs.pngFile[index].id)){\n\t\t\tisPreviewPhaserMedia.push('assets/' + this.$refs.pngFile[index].id)\n\t\t}\n\t\tlet elem = document.getElementById('TooltipPhaser') \n\t\telem.style.visibility = 'visible'\n\t\telem.style.position = 'absolute'\n\t\telem.style.left = x + \"px\"\n\t\telem.style.top = y + \"px\"\n\t},     \n\thideToolTipPhaser(){\n\t\tlet elem = document.getElementById('TooltipPhaser') \n\t\telem.style.visibility = 'hidden'\n\t},\n\n\tgetPngFile (f) {\n      return \"assets/\"+ f\n    },\n\t\n\ttoolbox_dragStart(item){\n\t\tthis.isDnD_FromToolBox=true\n\t\tthis.phaserDropped = false\n\t\tspritesSelected = []\n\t\tclone_spritesSelected = []\n\t\tgetVueInstance.spriteDrag = true\n\t\tisDragFromToolBox.push(item) \t\t\t\t\t\n\t},\n\tmoveOnCanvas(){\n\t\tthis.overCanvas = true\n\t\tif (( this.overCanvas ) && ( this.isDnD_FromToolBox ))\t{\n\t\t\tsprites[sprites.length-1].setVisible(true)\n\t\t}\t\t\n\t},\n\tleaveCanvas(){\n\t\tthis.overCanvas = false\n\t\tif ( this.isDnD_FromToolBox )\t{\n\t\t\tsprites[sprites.length-1].setVisible(false)\n\t\t}\t\n\t},\n\ttoolbox_dragEnd() {\n\t\tif (!this.phaserDropped){\n\t\t\t// if drop OUTSIDE phaser : destroy sprite and animation\n\t\t\tJSON_properties.items.pop()\n\t\t\tanimations[animations.length-1].stop()\n\t\t\tsprites[sprites.length-1].removeFromDisplayList()\n\t\t\tanimations.pop()\n\t\t\tsprites.pop()\n\t\t}\n\t\tthis.isDnD_FromToolBox = false\n\t\tgetVueInstance.spriteDrag = false\n\t\t//this.phaserDropped = false\n\t\t\t\n\t},\n\tPhaserDropped() {\n      this.phaserDropped = true\n    },\n    changeDesignMode: function() {\t\n\t\tthis.designMode = !this.designMode\n\t\tthis.designMode ? this.displayLayers = true : this.displayLayers = false\t\n\t\t\n\t\t// TODO : Pour les 3 boucles suivantes, elles devraient tre li aux sprites sur la scene et non sur le Json d'origine \n\t\t// quoique NON !, il faut s'assurer de bien modifier le JSON FINAL(?  tudier...)  chaque ajout ou suppression \n\t\t// de sprite ou modif de proprit, layers ou animation  !\n\n\n\t\t// displayLayers => masks, or not ?\n\t\t// clearmask en design mode, parce ce que sans, on ne pourrait pas voir certains sprites sous \"obstacle\"'\n\t\tfor (let i = 0; i <JSON_properties.layers.length; i++){\n\t\t\tgraphics[i].setVisible(this.displayLayers)\n\t\t\tthis.designMode ? layers[i].clearMask() : layers[i].setMask(masks[i]) \n\t\t}\n\n\t\t//en design mode, remet le sprite en position de dpart\n\t\tfor (let i = 0; i < JSON_properties.items.length; i++){\n\t\t\tif (this.designMode ) sprites[i].setFlipX(JSON_properties.items[i].flipX).setFrame(0)\n\t\t}\n\t\t// spriteAnims pause or resume\n\t\tfor (let i = 0; i < spriteAnims.length; i++){\n\t\t\tthis.designMode ? spriteAnims[i].pause() : spriteAnims[i].resume()\n\t\t}\n\t\t// animation tweens pause or resume\n\t\tfor (let i = 0; i < animations.length; i++){\n\t\t\t// seek(0) is stoppping animation : seek(0.01) is ok !\n\t\t\tthis.designMode ? animations[i].restart().seek(0.01).pause() : animations[i].restart().resume()\n\t\t}\n    },\n\t// TODO : non appel, je pense, devrait tre sur : on canvas mousedown\n\tDesignMode: function() {\n\t\t\n\t\tthis.designMode  = true \n\t\tthis.displayLayers = true\n\n\t\t//this.game.scene.showLayers.call(this.game.scene)\t\n\t\t//this.game.scene.changeDesignMode.call(this.game.scene)\t\t\t\t\n\t\t\n    },\n\tDebugMode: function() {\n\t\tthis.debug = !this.debug\n    },\n    showLayers: function() {\n\t\tthis.displayLayers = !this.displayLayers\n\t\tfor (let i = 0; i <JSON_properties.layers.length; i++){\n\t\t\tgraphics[i].setVisible(this.displayLayers)\n\t\t}\n\t\t//this.game.scene.showLayers.call(this)\t\n    },\n\tchangeFullscreen: function() {\n        fullscreen = true\n    },\n\tchangeColor: function(colors) {\n\t\tthis.game.scene.changeColor.call(this.game.scene,colors)\n\t},\n\topacityError: function(type, msg) {\n\t\tswitch (type) {\n\t\t\tcase ERROR_TYPE.VALUE:\n\t\t\t\tbreak\n\t\t\tcase ERROR_TYPE.INTERVAL:\n\t\t\t\tbreak\n\t\t\tcase ERROR_TYPE.MIN:\n\t\t\t\tbreak\n\t\t\tcase ERROR_TYPE.MAX:\n\t\t\t\tbreak\n\t\t\tcase ERROR_TYPE.ORDER:\n\t\t\t\tbreak\n\t\t}\n\t\tthis.opacityErrorMsg = msg\n\t},\n\tsetOpacity: function(){\n\t\tif (!this.designMode) return\n\t\tthis.opacityErrorMsg = ''\n\t\tfor (let i = 0; i < spritesSelected.length; i++){\n\t\t\tJSON_properties.items[sprites.indexOf(spritesSelected[i])].alpha = this.opacity / 100\n\t\t\tsprites[sprites.indexOf(spritesSelected[i])].setAlpha( this.opacity / 100 )\n\t\t}\n\t\t\n\t},\n\tsetFlipX: function(){\n\t\tif (!this.designMode) return\n\t\tfor (let i = 0; i < spritesSelected.length; i++){\n\t\t\tJSON_properties.items[sprites.indexOf(spritesSelected[i])].flipX = !sprites[sprites.indexOf(spritesSelected[i])].flipX\n\t\t\tsprites[sprites.indexOf(spritesSelected[i])].setFlipX( !sprites[sprites.indexOf(spritesSelected[i])].flipX )\n\t\t\t\n\t\t}\n\t},\n\ttest: function(){\n\t\tisDragFromToolBox.push('tree') \n\t\t\n\t\t//this.game.scene.test.call(this.game.scene)\t\n\t\t\n\t},\n\tclick_div: function(){\n\t\t\t//alert('in canvas div')\n\t},\n\n\tRecorder: function(canvas)  {\n\t\tlet fps = 60\n\t\tlet videoStream = canvas.captureStream(fps)\n\t\tlet mediaRecorder = new MediaRecorder(videoStream)\n\t\tlet videoURL=\"\"\n\n\t\tlet chunks = []\n\t\t\tmediaRecorder.ondataavailable = function(e) {\n\t\t\tchunks.push(e.data)\n\t\t}\n\t\n\t\tmediaRecorder.onstop = function() {\n\t\t\tlet blob = new Blob(chunks, {\n\t\t\t'type': 'video/mp4'\n\t\t\t})\n\t\t\tchunks = []\n\t\t\tvideoURL = URL.createObjectURL(blob)\n\t\t\t//console.log(\"mp4 video url:\", videoURL);\n\t\t\tlet myReader = new FileReader()\n\t\t\tmyReader.readAsDataURL(blob)\n\n\t\t\tmyReader.addEventListener(\"loadend\", function(e) {\n\t\t\t\tdocument.getElementById('video').src = e.srcElement.result\n\t\t\t\tdocument.getElementById('video').hidden = true\n\t\t\t\tconst link = document.createElement(\"a\")\n\t\t\t\tlink.href = videoURL\n\t\t\t\tlink.download = JSON_properties.project\n\t\t\t\tlink.click();\n\t\t\t});\n\t\t}\n\n\t\tmediaRecorder.ondataavailable = function(e) {\n\t\t\tchunks.push(e.data)\n\t\t}\n\n\t\tthis.start = () => mediaRecorder.start()\n\t\tthis.stop = () => \tmediaRecorder.stop()\n\t\tthis.pause = () => mediaRecorder.pause()\n\t\tthis.resume = () => mediaRecorder.resume()\n\t\tthis.getUrl = () => videoURL\n\t},\n\tinitRecord: function() {\n\t\tlet canvas = document.querySelector('#center-phaser > canvas');\n\t\tlet rec = new getVueInstance.Recorder(canvas)\n\t\tsetTimeout(rec.start, 60)\n\t\tsetTimeout(rec.stop, JSON_properties.mp4_duration);\n\t}\n  },\n}\n\n\n\n\n</script>\n\n\n<style >\n \n* {\n  box-sizing: border-box;\n}\n\n.App {\n\tdisplay: flex;\n\tflex-direction: row;\n\theight: 100vh;\n\toverflow: hidden;\n\n\t\n\t\n}\n.App > #wrapper-phaser {\n\tbackground: #eee;\n\twidth:100%;\n}\n\n#toolbox{\n\tpadding: 20px;\n\tborder-right: 1px solid black;\n\tbackground: #e0e0e0;\n\twidth:400px;\n\tbox-shadow:  8px 8px 14px #afafaf, -8px -8px 14px #dfdfdf;\n}\n\n/* grid items */\n.wrapperGridItems {\n    display: grid;\n    grid-gap: 0px;\n    grid-template-columns: repeat(5, 60px);\n}\n\n/*** vue COMPONENTS ***/\n.vue-slider {\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n/*the slider itself */\n.vue-slider > div:nth-child(2) {\n\ttop: 2px;\n\tflex-grow: 1;\n\tmargin-left:3px;\n\tmargin-right:2px;\n}\n\n/*** PHASER ***/\n#wrapper-phaser {\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items:center;\n\t\n} \n\n/*** HELPERS ***/\n.margin-bottom\n{\n\tmargin-bottom: 5px;\n}\n\n.error {\n\tcolor: red;\n\tfont-weight: 800;\n\tfont-size: 11px;\n}\n\n/*** REDEFINED TAGS ***/\ninput { \n    text-align: center!important; \n\theight:15px!important;\n\tfont-weight:bold!important;\n\tborder: none!important;\n\tfont-size:11px!important;\n    box-shadow: inset 0 0 0 2px #ccc!important;\n\tborder-radius: 4px!important;\n\toutline: none!important;\n\tdisplay: inline-block!important;\n}\n\n.neumorphism {\n\tpadding:8px;\n\tborder-radius: 6px;\n\tbackground: linear-gradient(145deg, #f3f3f3,#d5d5d5 );\n\tbox-shadow:  8px 8px 14px #afafaf, -8px -8px 14px #dfdfdf;\n}\n\n\n/* spinner */\n.vnis__button  {\n\theight:20px!important;\n\twidth:20px!important;\n\t\n\tfont-size:12px!important;\n\tfont-weight:bold!important;\n\t\n}\n.vnis__input {\n\theight:20px!important;\n\twidth:40px!important;\n\tborder-radius: 0px!important;\n}\n</style>\n\n\n  \n\n\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Archi2D.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Archi2D.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Archi2D.vue?vue&type=template&id=31b6fd33&\"\nimport script from \"./Archi2D.vue?vue&type=script&lang=js&\"\nexport * from \"./Archi2D.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Archi2D.vue?vue&type=style&index=0&id=31b6fd33&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template> \n  <Archi2D />\n</template>\n\n<script>\n\n\nimport Archi2D from './components/Archi2D.vue'\n\n\nexport default {\n  name: 'app',\n  components: {\n    Archi2D\n  }\n}\n</script>\n\n<style>\nhtml {\n  user-select: none;\n  background: #FFF;\n}\n\nbody {\n  margin: 0;\n  padding: 0;\n  \n  font-family: 'Arial', sans-serif;\n  font-size: 11px;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=cce7b22e&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=cce7b22e&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport { defineCustomElements as defineIonPhaser } from '@ion-phaser/core/loader'\nimport VueTippy, { TippyComponent } from \"vue-tippy\";\nimport \"tippy.js/themes/light.css\"\n\nimport App from './App.vue'\n\nVue.use(VueTippy)\nVue.component(\"tippy\", TippyComponent)\n\nVue.config.productionTip = false //true for Production!\nVue.config.ignoredElements = [/ion-\\w*/]\n\ndefineIonPhaser(window)\n\nwindow.bus = new Vue({\n  render: h => h(App),\n}).$mount('#app')\n","var map = {\n\t\"./ion-phaser.entry.js\": [\n\t\t\"af4d\",\n\t\t\"chunk-2d213e8b\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"64d5\";\nmodule.exports = webpackAsyncContext;","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Archi2D.vue?vue&type=style&index=0&id=31b6fd33&prod&lang=css&\""],"sourceRoot":""}